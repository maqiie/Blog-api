DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseTokenAuthCreateUsers (20230819204134)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "provider" varchar DEFAULT 'email' NOT NULL, "uid" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "allow_password_change" boolean DEFAULT 0, "remember_created_at" datetime(6), "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "name" varchar, "nickname" varchar, "image" varchar, "email" varchar, "tokens" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid_and_provider" ON "users" ("uid", "provider")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230819204134"]]
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20230821020342)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230821020342"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePosts (20230821021958)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230821021958"]]
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20230821023831)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230821023831"]]
  [1m[36mTRANSACTION (6.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-21 21:34:59.536266"], ["updated_at", "2023-08-21 21:34:59.536266"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 00:37:55 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user. Context: { controller: Auth::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x000056144289e2c8>, params: {"user"=>{"email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "controller"=>"auth/registrations", "action"=>"create"} }[0m
Filter chain halted as :validate_sign_up_params rendered or redirected
Completed 422 Unprocessable Entity in 17ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 11874)


Started POST "/auth" for 127.0.0.1 at 2023-08-22 00:37:55 +0300
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
[31mUnpermitted parameter: :user. Context: { controller: Auth::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007fb1d896de08>, params: {"user"=>{"email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "controller"=>"auth/registrations", "action"=>"create"} }[0m
Filter chain halted as :validate_sign_up_params rendered or redirected
Completed 422 Unprocessable Entity in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 255)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 00:38:14 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "markpaulmuthaura@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["uid", "markpaulmuthaura@gmail.com"], ["encrypted_password", "[FILTERED]"], ["email", "markpaulmuthaura@gmail.com"], ["created_at", "2023-08-21 21:38:14.525192"], ["updated_at", "2023-08-21 21:38:14.525192"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:15:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:16:in `block in create'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "role" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-21 21:38:14.541907"], ["role", 1], ["id", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:16:in `block in create'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:16:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-21 21:38:14.614852"], ["id", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
Completed 200 OK in 391ms (Views: 0.2ms | ActiveRecord: 24.3ms | Allocations: 44133)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 00:38:40 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markpaulmuthaura@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-21 21:38:40.332632"], ["id", 1]]
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 335ms (Views: 0.2ms | ActiveRecord: 13.1ms | Allocations: 6955)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 00:42:13 +0300
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"


----------------------------402970333888007748191522
Content-Disposition: form-data; name="image"; filename="2.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF  H H  ˇ‚ICC_PROFILE   lcms  mntrRGB XYZ ‹    ) 9acspAPPL                          ˆ÷     ”-lcms                                               
desc   ¸   ^cprt  \   wtpt  h   bkpt  |   rXYZ  ê   gXYZ  §   bXYZ  ∏   rTRC  Ã   @gTRC  Ã   @bTRC  Ã   @desc       c2                                                                                  text    IX  XYZ       ˆ÷     ”-XYZ         3  §XYZ       o¢  8ı  êXYZ       bô  ∑Ö  ⁄XYZ       $†  Ñ  ∂œcurv          À…cíkˆ?Q4!Ò)ê2;íFQw]Ìkpzâ±ö|¨iø}”√È0ˇˇˇ€ Ñ 	
	
	##*%%*525EE\	
	
	##*%%*525EE\ˇ¬ [Ç" ˇƒ 7          	
         ˇ⁄     ˛	tÛ∞)):
  
/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/2.7.0/uri/common.rb:387:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 00:44:27 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"


----------------------------568719398480606848679983
Content-Disposition: form-data; name="image"; filename="2.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF  H H  ˇ‚ICC_PROFILE   lcms  mntrRGB XYZ ‹    ) 9acspAPPL                          ˆ÷     ”-lcms                                               
desc   ¸   ^cprt  \   wtpt  h   bkpt  |   rXYZ  ê   gXYZ  §   bXYZ  ∏   rTRC  Ã   @gTRC  Ã   @bTRC  Ã   @desc       c2                                                                                  text    IX  XYZ       ˆ÷     ”-XYZ         3  §XYZ       o¢  8ı  êXYZ       bô  ∑Ö  ⁄XYZ       $†  Ñ  ∂œcurv          À…cíkˆ?Q4!Ò)ê2;íFQw]Ìkpzâ±ö|¨iø}”√È0ˇˇˇ€ Ñ 	
	
	##*%%*525EE\	
	
	##*%%*525EE\ˇ¬ [Ç" ˇƒ 7          	
         ˇ⁄     ˛	tÛ∞)):
  
/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/2.7.0/uri/common.rb:387:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 00:46:01 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"

this is my fisrt post
----------------------------409210988119045206150265
Content-Disposition: form-data; name="image"; filename="2.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF  H H  ˇ‚ICC_PROFILE   lcms  mntrRGB XYZ ‹    ) 9acspAPPL                          ˆ÷     ”-lcms                                               
desc   ¸   ^cprt  \   wtpt  h   bkpt  |   rXYZ  ê   gXYZ  §   bXYZ  ∏   rTRC  Ã   @gTRC  Ã   @bTRC  Ã   @desc       c2                                                                                  text    IX  XYZ       ˆ÷     ”-XYZ         3  §XYZ       o¢  8ı  êXYZ       bô  ∑Ö  ⁄XYZ       $†  Ñ  ∂œcurv          À…cíkˆ?Q4!Ò)ê2;íFQw]Ìkpzâ±ö|¨iø}”√È0ˇˇˇ€ Ñ 	
	
	##*%%*525EE\	
	
	##*%%*525EE\ˇ¬ [Ç" ˇƒ 7          	
         ˇ⁄     ˛	tÛ∞)):
  
/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/2.7.0/uri/common.rb:387:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-08-22 00:50:57 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f23c8424990 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-12047-mzhi2q.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "tittle"=>"post 1"}
[31mUnpermitted parameter: :tittle. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f23c8134de8>, params: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f23c8424990 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-12047-mzhi2q.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "tittle"=>"post 1", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Create (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "this is my first post"], ["created_at", "2023-08-21 21:50:57.954155"], ["updated_at", "2023-08-21 21:50:57.954155"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "493xtrz57sp7cub4dafmulwl4y13"], ["filename", "2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 3201113], ["checksum", "ogOfk+aRynmIZH8HzGeYzA=="], ["created_at", "2023-08-21 21:50:57.988885"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-21 21:50:57.990336"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2023-08-21 21:50:57.991328"], ["id", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
[36m  Disk Storage (7.8ms) [0m[32mUploaded file to key: 493xtrz57sp7cub4dafmulwl4y13 (checksum: ogOfk+aRynmIZH8HzGeYzA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 60bea3c2-82c0-4c23-bf02-3948fb6a4c17) to Async(default) with arguments: #<GlobalID:0x000055d06b655c20 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/1>>
Redirected to http://localhost:3000/posts/1
Completed 302 Found in 115ms (ActiveRecord: 7.6ms | Allocations: 78508)


[ActiveJob] [ActiveStorage::AnalyzeJob] [60bea3c2-82c0-4c23-bf02-3948fb6a4c17]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [60bea3c2-82c0-4c23-bf02-3948fb6a4c17] Performing ActiveStorage::AnalyzeJob (Job ID: 60bea3c2-82c0-4c23-bf02-3948fb6a4c17) from Async(default) enqueued at 2023-08-21T21:50:58Z with arguments: #<GlobalID:0x000055d06b58d928 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [60bea3c2-82c0-4c23-bf02-3948fb6a4c17] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [60bea3c2-82c0-4c23-bf02-3948fb6a4c17]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [60bea3c2-82c0-4c23-bf02-3948fb6a4c17]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [60bea3c2-82c0-4c23-bf02-3948fb6a4c17]   [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [60bea3c2-82c0-4c23-bf02-3948fb6a4c17] Performed ActiveStorage::AnalyzeJob (Job ID: 60bea3c2-82c0-4c23-bf02-3948fb6a4c17) from Async(default) in 51.25ms
Started GET "/posts/1" for ::1 at 2023-08-22 00:50:58 +0300
Processing by PostsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:72:in `show'
No template found for PostsController#show, rendering head :no_content
Completed 204 No Content in 4ms (ActiveRecord: 0.1ms | Allocations: 1210)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-08-22 00:59:24 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f6970acf1a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-12628-resqyg.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "tittle"=>"post 2"}
[31mUnpermitted parameter: :tittle. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f6958138e68>, params: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f6970acf1a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-12628-resqyg.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "tittle"=>"post 2", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Create (0.3ms)[0m  [1m[32mINSERT INTO "posts" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "this is my first post"], ["created_at", "2023-08-21 21:59:25.147938"], ["updated_at", "2023-08-21 21:59:25.147938"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "j90xxgag8z70sx1axpk8brqzr15t"], ["filename", "2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 3201113], ["checksum", "ogOfk+aRynmIZH8HzGeYzA=="], ["created_at", "2023-08-21 21:59:25.179998"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 2], ["blob_id", 2], ["created_at", "2023-08-21 21:59:25.181471"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2023-08-21 21:59:25.182604"], ["id", 2]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
[36m  Disk Storage (7.1ms) [0m[32mUploaded file to key: j90xxgag8z70sx1axpk8brqzr15t (checksum: ogOfk+aRynmIZH8HzGeYzA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a59c14e5-6489-4e44-b26f-35930d73a884) to Async(default) with arguments: #<GlobalID:0x00007f69706903f8 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/2>>
Redirected to http://localhost:3000/posts/2
Completed 302 Found in 112ms (ActiveRecord: 14.5ms | Allocations: 78641)


[ActiveJob] [ActiveStorage::AnalyzeJob] [a59c14e5-6489-4e44-b26f-35930d73a884]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a59c14e5-6489-4e44-b26f-35930d73a884] Performing ActiveStorage::AnalyzeJob (Job ID: a59c14e5-6489-4e44-b26f-35930d73a884) from Async(default) enqueued at 2023-08-21T21:59:25Z with arguments: #<GlobalID:0x00005638cc247ba0 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/2>>
Started GET "/posts/2" for ::1 at 2023-08-22 00:59:25 +0300
Processing by PostsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:72:in `show'
[ActiveJob] [ActiveStorage::AnalyzeJob] [a59c14e5-6489-4e44-b26f-35930d73a884] [36m  Disk Storage (3.7ms) [0m[34mDownloaded file from key: j90xxgag8z70sx1axpk8brqzr15t[0m
No template found for PostsController#show, rendering head :no_content
Completed 204 No Content in 5ms (ActiveRecord: 0.3ms | Allocations: 1364)


[ActiveJob] [ActiveStorage::AnalyzeJob] [a59c14e5-6489-4e44-b26f-35930d73a884]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a59c14e5-6489-4e44-b26f-35930d73a884]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":7042,\"height\":4699,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a59c14e5-6489-4e44-b26f-35930d73a884]   [1m[36mTRANSACTION (12.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a59c14e5-6489-4e44-b26f-35930d73a884] Performed ActiveStorage::AnalyzeJob (Job ID: a59c14e5-6489-4e44-b26f-35930d73a884) from Async(default) in 493.11ms
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-08-22 00:59:58 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fadb4ad68f8 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-12774-2k57mb.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post 2"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Create (0.3ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "post 2"], ["content", "this is my first post"], ["created_at", "2023-08-21 21:59:59.146221"], ["updated_at", "2023-08-21 21:59:59.146221"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4aqvvoz35i535x5h808gct7dj7g6"], ["filename", "2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 3201113], ["checksum", "ogOfk+aRynmIZH8HzGeYzA=="], ["created_at", "2023-08-21 21:59:59.177763"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 3], ["blob_id", 3], ["created_at", "2023-08-21 21:59:59.179677"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2023-08-21 21:59:59.180841"], ["id", 3]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
[36m  Disk Storage (7.3ms) [0m[32mUploaded file to key: 4aqvvoz35i535x5h808gct7dj7g6 (checksum: ogOfk+aRynmIZH8HzGeYzA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 26b48cca-7589-4f89-884c-49bcd9887d01) to Async(default) with arguments: #<GlobalID:0x00007fadb467e490 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/3>>
Redirected to http://localhost:3000/posts/3
Completed 302 Found in 106ms (ActiveRecord: 7.2ms | Allocations: 78667)


[ActiveJob] [ActiveStorage::AnalyzeJob] [26b48cca-7589-4f89-884c-49bcd9887d01]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26b48cca-7589-4f89-884c-49bcd9887d01] Performing ActiveStorage::AnalyzeJob (Job ID: 26b48cca-7589-4f89-884c-49bcd9887d01) from Async(default) enqueued at 2023-08-21T21:59:59Z with arguments: #<GlobalID:0x00005653a6d04ad0 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/3>>
Started GET "/posts/3" for ::1 at 2023-08-22 00:59:59 +0300
Processing by PostsController#show as */*
  Parameters: {"id"=>"3"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:72:in `show'
[ActiveJob] [ActiveStorage::AnalyzeJob] [26b48cca-7589-4f89-884c-49bcd9887d01] [36m  Disk Storage (5.7ms) [0m[34mDownloaded file from key: 4aqvvoz35i535x5h808gct7dj7g6[0m
No template found for PostsController#show, rendering head :no_content
Completed 204 No Content in 5ms (ActiveRecord: 0.5ms | Allocations: 1365)


[ActiveJob] [ActiveStorage::AnalyzeJob] [26b48cca-7589-4f89-884c-49bcd9887d01]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26b48cca-7589-4f89-884c-49bcd9887d01]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":7042,\"height\":4699,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26b48cca-7589-4f89-884c-49bcd9887d01]   [1m[36mTRANSACTION (12.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26b48cca-7589-4f89-884c-49bcd9887d01] Performed ActiveStorage::AnalyzeJob (Job ID: 26b48cca-7589-4f89-884c-49bcd9887d01) from Async(default) in 496.32ms
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-08-22 01:02:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f3e74a89328 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-13020-1f4x58t.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post 2"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 16ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 11722)


Started POST "/auth/sign_in" for ::1 at 2023-08-22 01:07:35 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 743)


Started POST "/auth/sign_in" for ::1 at 2023-08-22 01:09:04 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 177)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 01:09:30 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markpaulmuthaura@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-21 22:09:30.512152"], ["id", 1]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 333ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 31089)


Started POST "/posts" for ::1 at 2023-08-22 01:11:45 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f3e74aefd58 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-13020-1gnrqy9.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post 2"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 140)


Started POST "/posts" for ::1 at 2023-08-22 01:13:09 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f3e5c40f9b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-13020-1oyl85w.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post 2"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for ::1 at 2023-08-22 01:15:32 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
Filter chain halted as :validate_sign_up_params rendered or redirected
Completed 422 Unprocessable Entity in 16ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 11788)


Started POST "/auth" for ::1 at 2023-08-22 01:15:49 +0300
Processing by Auth::RegistrationsController#create as */*
Filter chain halted as :validate_sign_up_params rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 174)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for ::1 at 2023-08-22 01:16:36 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
Filter chain halted as :validate_sign_up_params rendered or redirected
Completed 422 Unprocessable Entity in 16ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 11788)


Started POST "/auth" for ::1 at 2023-08-22 01:18:03 +0300
Processing by Auth::RegistrationsController#create as */*
Filter chain halted as :validate_sign_up_params rendered or redirected
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/auth" for ::1 at 2023-08-22 01:20:21 +0300
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"email"=>"example@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["uid", "example@gmail.com"], ["encrypted_password", "[FILTERED]"], ["email", "example@gmail.com"], ["created_at", "2023-08-21 22:20:21.869347"], ["updated_at", "2023-08-21 22:20:21.869347"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:15:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-21 22:20:21.940555"], ["id", 2]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `create'
Completed 200 OK in 342ms (Views: 0.4ms | ActiveRecord: 11.6ms | Allocations: 30809)


Started POST "/auth/sign_up" for ::1 at 2023-08-22 01:23:43 +0300
  
ActionController::RoutingError (No route matches [POST] "/auth/sign_up"):
  
Started POST "/auth/sign_in" for ::1 at 2023-08-22 01:24:27 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 724)


Started POST "/auth/sign_in" for ::1 at 2023-08-22 01:24:47 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"example@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "example@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-21 22:24:47.911443"], ["id", 2]]
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 322ms (Views: 0.2ms | ActiveRecord: 13.3ms | Allocations: 6466)


Started POST "/posts" for ::1 at 2023-08-22 01:25:50 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x000055afac261a18 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-13882-4priq0.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post 2"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 206)


Started POST "/posts" for ::1 at 2023-08-22 01:27:37 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f7780ac2ed0 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-13882-11rzmv3.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post 2"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 150)


Started POST "/posts" for ::1 at 2023-08-22 01:34:09 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"this is my first post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f7780a3a238 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-13882-v4b3no.jpg>, @content_type="image/jpeg", @original_filename="2.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"2.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post 2"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 154)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 14:46:56 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"

this is my fisrt post
----------------------------197066253429527035759915
Content-Disposition: form-data; name="title"

post3
----------------------------197066253429527035759915
Content-Disposition: form-data; name="image"; filename="2.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF  H H  ˇ‚ICC_PROFILE   lcms  mntrRGB XYZ ‹    ) 9acspAPPL                          ˆ÷     ”-lcms                                               
desc   ¸   ^cprt  \   wtpt  h   bkpt  |   rXYZ  ê   gXYZ  §   bXYZ  ∏   rTRC  Ã   @gTRC  Ã   @bTRC  Ã   @desc       c2                                                                                  text    IX  XYZ       ˆ÷     ”-XYZ         3  §XYZ       o¢  8ı  êXYZ       bô  ∑Ö  ⁄XYZ       $†  Ñ  ∂œcurv          À…cíkˆ?Q4!Ò)ê2;íFQw]Ìkpzâ±ö|¨iø}”√È0ˇˇˇ€ Ñ 	
	
	##*%%*525EE\	
	
	##*%%*525EE\ˇ¬ [Ç" ˇƒ 7          	
         ˇ⁄     ˛	tÛ∞)):
  
/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/2.7.0/uri/common.rb:387:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 14:56:45 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("image"; filename="2.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF  H H  ˇ‚ICC_PROFILE   lcms  mntrRGB XYZ ‹    ) 9acspAPPL                          ˆ÷     ”-lcms                                               
desc   ¸   ^cprt  \   wtpt  h   bkpt  |   rXYZ  ê   gXYZ  §   bXYZ  ∏   rTRC  Ã   @gTRC  Ã   @bTRC  Ã   @desc       c2                                                                                  text    IX  XYZ       ˆ÷     ”-XYZ         3  §XYZ       o¢  8ı  êXYZ       bô  ∑Ö  ⁄XYZ       $†  Ñ  ∂œcurv          À…cíkˆ?Q4!Ò)ê2;íFQw]Ìkpzâ±ö|¨iø}”√È0ˇˇˇ€ Ñ 	
	
	##*%%*525EE\	
	
	##*%%*525EE\ˇ¬ [Ç" ˇƒ 7          	
         ˇ⁄     ˛	tÛ∞)):
  
/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/2.7.0/uri/common.rb:387:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/posts" for 127.0.0.1 at 2023-08-22 14:57:25 +0300
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"

test post
----------------------------927309802834018771536555
Content-Disposition: form-data; name="image"; filename="2.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF  H H  ˇ‚ICC_PROFILE   lcms  mntrRGB XYZ ‹    ) 9acspAPPL                          ˆ÷     ”-lcms                                               
desc   ¸   ^cprt  \   wtpt  h   bkpt  |   rXYZ  ê   gXYZ  §   bXYZ  ∏   rTRC  Ã   @gTRC  Ã   @bTRC  Ã   @desc       c2                                                                                  text    IX  XYZ       ˆ÷     ”-XYZ         3  §XYZ       o¢  8ı  êXYZ       bô  ∑Ö  ⁄XYZ       $†  Ñ  ∂œcurv          À…cíkˆ?Q4!Ò)ê2;íFQw]Ìkpzâ±ö|¨iø}”√È0ˇˇˇ€ Ñ 	
	
	##*%%*525EE\	
	
	##*%%*525EE\ˇ¬ [Ç" ˇƒ 7          	
         ˇ⁄     ˛	tÛ∞)):
  
/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/2.7.0/uri/common.rb:387:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 14:57:51 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"----------------------------197873382975151153749464\r\nContent-Disposition: form-data; name"=>"\"content\"\r\n\r\ntest post\r\n----------------------------197873382975151153749464--\r\n"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 16ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 11722)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 14:58:13 +0300
Processing by PostsController#create as */*
  Parameters: {"----------------------------016460238127776551604548\r\nContent-Disposition: form-data; name"=>"\"content\"\r\n\r\ntest post\r\n----------------------------016460238127776551604548--\r\n"}
[31mUnpermitted parameter: :----------------------------016460238127776551604548
Content-Disposition: form-data; name. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f55188b2170>, params: {"----------------------------016460238127776551604548\r\nContent-Disposition: form-data; name"=>"\"content\"\r\n\r\ntest post\r\n----------------------------016460238127776551604548--\r\n", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Create (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-08-22 11:58:13.868994"], ["updated_at", "2023-08-22 11:58:13.868994"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
Redirected to http://localhost:3000/posts/4
Completed 302 Found in 29ms (ActiveRecord: 12.9ms | Allocations: 20164)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 14:58:34 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"----------------------------694667951523068567231592\r\nContent-Disposition: form-data; name"=>"\"content\"\r\n\r\ntest post\r\n----------------------------694667951523068567231592--\r\n"}
[31mUnpermitted parameter: :----------------------------694667951523068567231592
Content-Disposition: form-data; name. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f15a014bad8>, params: {"----------------------------694667951523068567231592\r\nContent-Disposition: form-data; name"=>"\"content\"\r\n\r\ntest post\r\n----------------------------694667951523068567231592--\r\n", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Create (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-08-22 11:58:34.925791"], ["updated_at", "2023-08-22 11:58:34.925791"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
Redirected to http://localhost:3000/posts/5
Completed 302 Found in 30ms (ActiveRecord: 13.3ms | Allocations: 20183)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:02:24 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"

test post
----------------------------579984251567030737293454
Content-Disposition: form-data; name="image"; filename="background.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF      ˇ€ C 	!"$"$ˇ€ Cˇ¿ ¿ " ˇƒ           	
ˇƒ µ   } !1AQa"q2Åë°#B±¡R—$3brÇ	
%)):
  
/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/2.7.0/uri/common.rb:387:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:03:17 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"

test post
----------------------------111532415494890097778921
Content-Disposition: form-data; name="image"; filename="background.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF      ˇ€ C 	!"$"$ˇ€ Cˇ¿ ¿ " ˇƒ           	
ˇƒ µ   } !1AQa"q2Åë°#B±¡R—$3brÇ	
%)):
  
/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/2.7.0/uri/common.rb:387:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:08:28 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f9ff8aa6be0 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-19346-uvknwt.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Create (0.4ms)[0m  [1m[32mINSERT INTO "posts" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test post"], ["created_at", "2023-08-22 12:08:28.441494"], ["updated_at", "2023-08-22 12:08:28.441494"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "kag6ns7v1rnfb1l58elx2htbxhnp"], ["filename", "background.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2496898], ["checksum", "JoH89RgkKayyniPfjT8y6g=="], ["created_at", "2023-08-22 12:08:28.472619"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 6], ["blob_id", 4], ["created_at", "2023-08-22 12:08:28.473900"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Update (0.2ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2023-08-22 12:08:28.475500"], ["id", 6]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
[36m  Disk Storage (6.4ms) [0m[32mUploaded file to key: kag6ns7v1rnfb1l58elx2htbxhnp (checksum: JoH89RgkKayyniPfjT8y6g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f3258644-4f1e-4783-a15d-e02258a3e9ec) to Async(default) with arguments: #<GlobalID:0x0000555abdcfb0d0 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/4>>
Redirected to http://localhost:3000/posts/6
Completed 302 Found in 114ms (ActiveRecord: 15.1ms | Allocations: 78554)


[ActiveJob] [ActiveStorage::AnalyzeJob] [f3258644-4f1e-4783-a15d-e02258a3e9ec]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3258644-4f1e-4783-a15d-e02258a3e9ec] Performing ActiveStorage::AnalyzeJob (Job ID: f3258644-4f1e-4783-a15d-e02258a3e9ec) from Async(default) enqueued at 2023-08-22T12:08:28Z with arguments: #<GlobalID:0x0000555abdd2d080 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3258644-4f1e-4783-a15d-e02258a3e9ec] [36m  Disk Storage (9.4ms) [0m[34mDownloaded file from key: kag6ns7v1rnfb1l58elx2htbxhnp[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3258644-4f1e-4783-a15d-e02258a3e9ec]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3258644-4f1e-4783-a15d-e02258a3e9ec]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":4896,\"height\":3264,\"analyzed\":true}"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3258644-4f1e-4783-a15d-e02258a3e9ec]   [1m[36mTRANSACTION (5.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3258644-4f1e-4783-a15d-e02258a3e9ec] Performed ActiveStorage::AnalyzeJob (Job ID: f3258644-4f1e-4783-a15d-e02258a3e9ec) from Async(default) in 184.26ms
Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 15:11:12 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markapulmuthaura@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markapulmuthaura@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 6ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 2681)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 15:11:36 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markapulmuthaura@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markapulmuthaura@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 962)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 15:12:07 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markapulmuthaura@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markapulmuthaura@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 948)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 15:12:16 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markapaulmuthaura@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markapaulmuthaura@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 962)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 15:12:27 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markpaulmuthaura@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 12:12:28.042227"], ["id", 1]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 355ms (Views: 0.3ms | ActiveRecord: 14.9ms | Allocations: 27468)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:14:19 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post2", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f9fec078aa8 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-19346-1skhdaw.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 214)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:16:11 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post2", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f9fe4010118 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-19346-16uhqxh.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 147)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:16:21 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post2", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f45f8ae3888 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-20015-152ir0h.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 16ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 11730)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:17:48 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"authentication test post", "title"=>"post6", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f45f8a01cd0 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-20015-1gprfeq.jpg>, @content_type="image/jpeg", @original_filename="images.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"images.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 15:21:19 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markpaulmuthara@gamil.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markpaulmuthara@gamil.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3450)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 15:21:32 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markpaulmuthaura@gamil.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markpaulmuthaura@gamil.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 962)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-22 15:21:39 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markpaulmuthaura@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 12:21:39.780102"], ["id", 1]]
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 338ms (Views: 0.2ms | ActiveRecord: 13.5ms | Allocations: 29286)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:25:35 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post2", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f45f8749998 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-20015-1qzovc.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:30:55 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post2", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f45f8ac0950 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-20015-bpwkr3.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Create (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test post2"], ["created_at", "2023-08-22 12:30:55.205724"], ["updated_at", "2023-08-22 12:30:55.205724"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "sd3spuwmtmq10p56sfo2joqh6yus"], ["filename", "background.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2496898], ["checksum", "JoH89RgkKayyniPfjT8y6g=="], ["created_at", "2023-08-22 12:30:55.259468"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 7], ["blob_id", 5], ["created_at", "2023-08-22 12:30:55.262179"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2023-08-22 12:30:55.264445"], ["id", 7]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mTRANSACTION (12.8ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
[36m  Disk Storage (6.3ms) [0m[32mUploaded file to key: sd3spuwmtmq10p56sfo2joqh6yus (checksum: JoH89RgkKayyniPfjT8y6g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0cc76c18-23b8-422a-b8b2-18f1236949e5) to Async(default) with arguments: #<GlobalID:0x00007f45f8937390 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/5>>
Redirected to http://localhost:3000/posts/7
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 202ms (ActiveRecord: 16.0ms | Allocations: 78216)


[ActiveJob] [ActiveStorage::AnalyzeJob] [0cc76c18-23b8-422a-b8b2-18f1236949e5]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0cc76c18-23b8-422a-b8b2-18f1236949e5] Performing ActiveStorage::AnalyzeJob (Job ID: 0cc76c18-23b8-422a-b8b2-18f1236949e5) from Async(default) enqueued at 2023-08-22T12:30:55Z with arguments: #<GlobalID:0x00007f45f89c1568 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0cc76c18-23b8-422a-b8b2-18f1236949e5] [36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: sd3spuwmtmq10p56sfo2joqh6yus[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0cc76c18-23b8-422a-b8b2-18f1236949e5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0cc76c18-23b8-422a-b8b2-18f1236949e5]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":4896,\"height\":3264,\"analyzed\":true}"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0cc76c18-23b8-422a-b8b2-18f1236949e5]   [1m[36mTRANSACTION (12.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0cc76c18-23b8-422a-b8b2-18f1236949e5] Performed ActiveStorage::AnalyzeJob (Job ID: 0cc76c18-23b8-422a-b8b2-18f1236949e5) from Async(default) in 174.41ms
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:31:26 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post2", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fe87caa25a0 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-21034-vwrk4x.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Create (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("content", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["content", "test post2"], ["created_at", "2023-08-22 12:31:27.074493"], ["updated_at", "2023-08-22 12:31:27.074493"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7vmho9nqgqg4kqmto7t1plrzqqny"], ["filename", "background.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2496898], ["checksum", "JoH89RgkKayyniPfjT8y6g=="], ["created_at", "2023-08-22 12:31:27.101960"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 8], ["blob_id", 6], ["created_at", "2023-08-22 12:31:27.104206"]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2023-08-22 12:31:27.106049"], ["id", 8]]
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:83:in `create'
[36m  Disk Storage (5.8ms) [0m[32mUploaded file to key: 7vmho9nqgqg4kqmto7t1plrzqqny (checksum: JoH89RgkKayyniPfjT8y6g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5388266d-6088-4ef0-a566-1d51c73ce454) to Async(default) with arguments: #<GlobalID:0x0000563197785388 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/6>>
Redirected to http://localhost:3000/posts/8
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 191ms (ActiveRecord: 16.2ms | Allocations: 102392)


[ActiveJob] [ActiveStorage::AnalyzeJob] [5388266d-6088-4ef0-a566-1d51c73ce454]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5388266d-6088-4ef0-a566-1d51c73ce454] Performing ActiveStorage::AnalyzeJob (Job ID: 5388266d-6088-4ef0-a566-1d51c73ce454) from Async(default) enqueued at 2023-08-22T12:31:27Z with arguments: #<GlobalID:0x00007fe85003fbe8 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/6>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5388266d-6088-4ef0-a566-1d51c73ce454] [36m  Disk Storage (3.9ms) [0m[34mDownloaded file from key: 7vmho9nqgqg4kqmto7t1plrzqqny[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5388266d-6088-4ef0-a566-1d51c73ce454]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5388266d-6088-4ef0-a566-1d51c73ce454]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":4896,\"height\":3264,\"analyzed\":true}"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5388266d-6088-4ef0-a566-1d51c73ce454]   [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5388266d-6088-4ef0-a566-1d51c73ce454] Performed ActiveStorage::AnalyzeJob (Job ID: 5388266d-6088-4ef0-a566-1d51c73ce454) from Async(default) in 247.65ms
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:40:13 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fe85c368cf0 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-21034-1n0bwl.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 72ms (ActiveRecord: 0.4ms | Allocations: 9302)


  
NoMethodError (undefined method `posts' for #<User:0x00007fe85cb198f0>):
  
app/controllers/posts_controller.rb:80:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:40:25 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f9198a87768 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-21927-764hmz.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 89ms (ActiveRecord: 0.9ms | Allocations: 28952)


  
NoMethodError (undefined method `posts' for #<User:0x00007f918c4a4500>):
  
app/controllers/posts_controller.rb:80:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:43:05 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f7594a78968 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-22274-laa02d.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 130ms (ActiveRecord: 1.2ms | Allocations: 74398)


  
ActiveModel::UnknownAttributeError (unknown attribute 'user_id' for Post.):
  
app/controllers/posts_controller.rb:80:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:44:06 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fe7b04b91d8 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-22614-1cbrpy9.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 146ms (ActiveRecord: 2.0ms | Allocations: 74398)


  
ActiveModel::UnknownAttributeError (unknown attribute 'user_id' for Post.):
  
app/controllers/posts_controller.rb:80:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserIdToPosts (20230822124504)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aposts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aposts" ("id","title","content","created_at","updated_at")
                     SELECT "id","title","content","created_at","updated_at" FROM "posts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "posts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("id","title","content","created_at","updated_at")
                     SELECT "id","title","content","created_at","updated_at" FROM "aposts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserIdToPosts (20230822124504)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "posts" ADD "user_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aposts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aposts_on_user_id" ON "aposts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aposts" ("id","title","content","created_at","updated_at","user_id")
                     SELECT "id","title","content","created_at","updated_at","user_id" FROM "posts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "posts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("id","title","content","created_at","updated_at","user_id")
                     SELECT "id","title","content","created_at","updated_at","user_id" FROM "aposts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aposts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822124504"]]
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:47:39 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fcdaca82588 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-23129-3mdbon.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 146ms (ActiveRecord: 1.6ms | Allocations: 79686)


  
ActionView::MissingTemplate (Missing template posts/new, application/new with {:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :vcf, :vtt, :png, :jpeg, :gif, :bmp, :tiff, :svg, :mpeg, :mp3, :ogg, :m4a, :webm, :mp4, :otf, :ttf, :woff, :woff2, :xml, :rss, :atom, :yaml, :multipart_form, :url_encoded_form, :json, :pdf, :zip, :gzip], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}.

Searched in:
  * "/home/markpaul/projects/Blog-1/api/app/views"
  * "/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/devise_token_auth-1.2.2/app/views"
  * "/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/devise-4.9.2/app/views"

Did you mean?  devise/confirmations/new
               devise/registrations/new
               devise/sessions/new
               devise/passwords/new
               devise/unlocks/new
               devise/registrations/edit):
  
app/controllers/posts_controller.rb:88:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:48:55 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f2d244c4d40 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-23524-11i82wx.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:95:in `create'
  [1m[36mPost Create (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("content", "created_at", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["content", "test post 4"], ["created_at", "2023-08-22 12:48:55.791337"], ["updated_at", "2023-08-22 12:48:55.791337"], ["user_id", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:95:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:95:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:95:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ygkoy8sden9g5avmlo09wr5r8sfw"], ["filename", "background.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2496898], ["checksum", "JoH89RgkKayyniPfjT8y6g=="], ["created_at", "2023-08-22 12:48:55.813554"]]
  ‚Ü≥ app/controllers/posts_controller.rb:95:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 9], ["blob_id", 7], ["created_at", "2023-08-22 12:48:55.823109"]]
  ‚Ü≥ app/controllers/posts_controller.rb:95:in `create'
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2023-08-22 12:48:55.824177"], ["id", 9]]
  ‚Ü≥ app/controllers/posts_controller.rb:95:in `create'
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:95:in `create'
[36m  Disk Storage (5.2ms) [0m[32mUploaded file to key: ygkoy8sden9g5avmlo09wr5r8sfw (checksum: JoH89RgkKayyniPfjT8y6g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0) to Async(default) with arguments: #<GlobalID:0x00007f2d24a9f170 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/7>>
Redirected to http://localhost:3000/posts/9
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 191ms (ActiveRecord: 15.8ms | Allocations: 105788)


[ActiveJob] [ActiveStorage::AnalyzeJob] [8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0] Performing ActiveStorage::AnalyzeJob (Job ID: 8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0) from Async(default) enqueued at 2023-08-22T12:48:55Z with arguments: #<GlobalID:0x00007f2d0004a2c0 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0] [36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: ygkoy8sden9g5avmlo09wr5r8sfw[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":4896,\"height\":3264,\"analyzed\":true}"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0]   [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0] Performed ActiveStorage::AnalyzeJob (Job ID: 8e1e2c88-f784-42ab-a5f7-5e84cb66d7a0) from Async(default) in 177.12ms
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCategories (20230822125320)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822125320"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/posts" for 127.0.0.1 at 2023-08-22 15:58:17 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category"=>"Food", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f2d0c3ac970 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-23524-iu40lj.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :category. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f2d0c337170>, params: {"content"=>"test post 4", "category"=>"Food", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f2d0c3ac970 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-23524-iu40lj.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"posts", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 111ms (ActiveRecord: 0.2ms | Allocations: 27202)


  
ActionView::MissingTemplate (Missing template posts/new, application/new with {:locale=>[:en], :formats=>[:html, :text, :js, :css, :ics, :csv, :vcf, :vtt, :png, :jpeg, :gif, :bmp, :tiff, :svg, :mpeg, :mp3, :ogg, :m4a, :webm, :mp4, :otf, :ttf, :woff, :woff2, :xml, :rss, :atom, :yaml, :multipart_form, :url_encoded_form, :json, :pdf, :zip, :gzip], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}.

Searched in:
  * "/home/markpaul/projects/Blog-1/api/app/views"
  * "/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/devise_token_auth-1.2.2/app/views"
  * "/home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/devise-4.9.2/app/views"

Did you mean?  devise/confirmations/new
               devise/registrations/new
               devise/sessions/new
               devise/passwords/new
               devise/unlocks/new
               devise/registrations/edit):
  
app/controllers/posts_controller.rb:36:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:00:41 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc7604d92f0 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-24681-18kfwsv.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 146ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 91453)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:01:20 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc76cb00f00 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-24681-88x70m.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :category. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007fc76c641398>, params: {"content"=>"test post 4", "category"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc76cb00f00 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-24681-88x70m.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 16ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3203)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:01:34 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f29704db548 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-24880-kt9ga7.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :category. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f297014c5d0>, params: {"content"=>"test post 4", "category"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f29704db548 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-24880-kt9ga7.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 151ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 91557)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:02:03 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category_id"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f297cabd090 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-24880-1alt6u0.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 1445)


  
ActiveModel::UnknownAttributeError (unknown attribute 'category_id' for Post.):
  
app/controllers/posts_controller.rb:28:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:02:18 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category_id"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fc0644acc80 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-25024-q1dj58.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 121ms (ActiveRecord: 1.4ms | Allocations: 75138)


  
ActiveModel::UnknownAttributeError (unknown attribute 'category_id' for Post.):
  
app/controllers/posts_controller.rb:28:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:03:24 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category"=>"food", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fd840a79cc8 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-25268-15puhjt.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 124ms (ActiveRecord: 1.5ms | Allocations: 77001)


  
ActiveRecord::AssociationTypeMismatch (Category(#17020) expected, got "food" which is an instance of String(#2520)):
  
app/controllers/posts_controller.rb:28:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:03:41 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f9cac4c7750 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-25410-45w03c.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 125ms (ActiveRecord: 1.5ms | Allocations: 77006)


  
ActiveRecord::AssociationTypeMismatch (Category(#17020) expected, got "1" which is an instance of String(#2520)):
  
app/controllers/posts_controller.rb:28:in `create'
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:06:47 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f9ca4009e78 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-25410-ihqzbw.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 39ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 15868)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:07:17 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"category_id"=>1}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :category_id. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007fd8e4142700>, params: {"category_id"=>1, "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 117ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 64836)


Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:08:59 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category"=>"food", "image"=>#<ActionDispatch::Http::UploadedFile:0x00005653abe74fc8 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-25763-nq4tqt.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 39ms (ActiveRecord: 0.7ms | Allocations: 27894)


  
ActiveRecord::AssociationTypeMismatch (Category(#16980) expected, got "food" which is an instance of String(#2520)):
  
app/controllers/posts_controller.rb:28:in `create'
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:09:14 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00005653abeb7198 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-25763-l5w5mk.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 1399)


  
ActiveRecord::AssociationTypeMismatch (Category(#16980) expected, got "1" which is an instance of String(#2520)):
  
app/controllers/posts_controller.rb:28:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:09:43 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f7a34497dd8 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-26054-qxrqt4.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 124ms (ActiveRecord: 1.6ms | Allocations: 76998)


  
ActiveRecord::AssociationTypeMismatch (Category(#17020) expected, got "1" which is an instance of String(#2520)):
  
app/controllers/posts_controller.rb:28:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:12:38 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category_id"=>"'1'", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007fea904d0878 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-26439-1xb6gtp.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 124ms (ActiveRecord: 1.4ms | Allocations: 75136)


  
ActiveModel::UnknownAttributeError (unknown attribute 'category_id' for Post.):
  
app/controllers/posts_controller.rb:28:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddCategoryIdToPosts (20230822131408)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aposts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aposts_on_user_id" ON "aposts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aposts" ("id","title","content","created_at","updated_at","user_id")
                     SELECT "id","title","content","created_at","updated_at","user_id" FROM "posts"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "posts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "category_id" integer NOT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("id","title","content","created_at","updated_at","user_id")
                     SELECT "id","title","content","created_at","updated_at","user_id" FROM "aposts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddCategoryIdToPosts (20230822131408)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "posts" ADD "category_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_posts_on_category_id" ON "posts" ("category_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aposts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "category_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aposts_on_category_id" ON "aposts" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aposts_on_user_id" ON "aposts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aposts" ("id","title","content","created_at","updated_at","user_id","category_id")
                     SELECT "id","title","content","created_at","updated_at","user_id","category_id" FROM "posts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "posts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "category_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9b1b26f040"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_posts_on_category_id" ON "posts" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("id","title","content","created_at","updated_at","user_id","category_id")
                     SELECT "id","title","content","created_at","updated_at","user_id","category_id" FROM "aposts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aposts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822131408"]]
  [1m[36mTRANSACTION (14.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:18:14 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category_id"=>"'1'", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f9d684c21a8 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-27339-9zmy8x.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 0], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 156ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 94394)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:19:09 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category_id"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f1f64a8e848 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-27603-1xfma92.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 157ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 94393)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Food"], ["created_at", "2023-08-22 13:22:54.612212"], ["updated_at", "2023-08-22 13:22:54.612212"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Travel"], ["created_at", "2023-08-22 13:22:54.621332"], ["updated_at", "2023-08-22 13:22:54.621332"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Technology"], ["created_at", "2023-08-22 13:22:54.629529"], ["updated_at", "2023-08-22 13:22:54.629529"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Fashion"], ["created_at", "2023-08-22 13:22:54.638207"], ["updated_at", "2023-08-22 13:22:54.638207"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sports"], ["created_at", "2023-08-22 13:22:54.645896"], ["updated_at", "2023-08-22 13:22:54.645896"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Art"], ["created_at", "2023-08-22 13:22:54.652711"], ["updated_at", "2023-08-22 13:22:54.652711"]]
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Music"], ["created_at", "2023-08-22 13:22:54.659622"], ["updated_at", "2023-08-22 13:22:54.659622"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Health"], ["created_at", "2023-08-22 13:22:54.666409"], ["updated_at", "2023-08-22 13:22:54.666409"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Science"], ["created_at", "2023-08-22 13:22:54.675265"], ["updated_at", "2023-08-22 13:22:54.675265"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Education"], ["created_at", "2023-08-22 13:22:54.685146"], ["updated_at", "2023-08-22 13:22:54.685146"]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Others"], ["created_at", "2023-08-22 13:22:54.700978"], ["updated_at", "2023-08-22 13:22:54.700978"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:24:05 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category_id"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f796c4bb670 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-28970-hn6xve.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mPost Create (0.2ms)[0m  [1m[32mINSERT INTO "posts" ("content", "created_at", "updated_at", "user_id", "category_id") VALUES (?, ?, ?, ?, ?)[0m  [["content", "test post 4"], ["created_at", "2023-08-22 13:24:05.436421"], ["updated_at", "2023-08-22 13:24:05.436421"], ["user_id", 1], ["category_id", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9k8jqf3s2t82ghv5fqe7gixvei7n"], ["filename", "background.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2496898], ["checksum", "JoH89RgkKayyniPfjT8y6g=="], ["created_at", "2023-08-22 13:24:05.466280"]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 10], ["blob_id", 8], ["created_at", "2023-08-22 13:24:05.467816"]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mPost Update (0.1ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2023-08-22 13:24:05.468782"], ["id", 10]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
[36m  Disk Storage (6.1ms) [0m[32mUploaded file to key: 9k8jqf3s2t82ghv5fqe7gixvei7n (checksum: JoH89RgkKayyniPfjT8y6g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 045fd481-5548-4772-b62b-b73867bdad30) to Async(default) with arguments: #<GlobalID:0x00007f796c4e6730 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/8>>
Redirected to http://localhost:3000/posts/10
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 184ms (ActiveRecord: 8.8ms | Allocations: 111314)


[ActiveJob] [ActiveStorage::AnalyzeJob] [045fd481-5548-4772-b62b-b73867bdad30]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [045fd481-5548-4772-b62b-b73867bdad30] Performing ActiveStorage::AnalyzeJob (Job ID: 045fd481-5548-4772-b62b-b73867bdad30) from Async(default) enqueued at 2023-08-22T13:24:05Z with arguments: #<GlobalID:0x00007f79400439c0 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/8>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [045fd481-5548-4772-b62b-b73867bdad30] [36m  Disk Storage (2.7ms) [0m[34mDownloaded file from key: 9k8jqf3s2t82ghv5fqe7gixvei7n[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [045fd481-5548-4772-b62b-b73867bdad30]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [045fd481-5548-4772-b62b-b73867bdad30]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":4896,\"height\":3264,\"analyzed\":true}"], ["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [045fd481-5548-4772-b62b-b73867bdad30]   [1m[36mTRANSACTION (12.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [045fd481-5548-4772-b62b-b73867bdad30] Performed ActiveStorage::AnalyzeJob (Job ID: 045fd481-5548-4772-b62b-b73867bdad30) from Async(default) in 173.68ms
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
Started POST "/posts" for 127.0.0.1 at 2023-08-22 16:28:44 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"test post 4", "category_id"=>"1", "title"=>"what else do i need", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f7958020d18 @tempfile=#<Tempfile:/tmp/RackMultipart20230822-28970-1w2armn.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mPost Create (0.4ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at", "user_id", "category_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "what else do i need"], ["content", "test post 4"], ["created_at", "2023-08-22 13:28:44.421181"], ["updated_at", "2023-08-22 13:28:44.421181"], ["user_id", 1], ["category_id", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Post"], ["name", "image"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "10vw4ui5okqzwfv5h3ytos81fyf4"], ["filename", "background.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 2496898], ["checksum", "JoH89RgkKayyniPfjT8y6g=="], ["created_at", "2023-08-22 13:28:44.425317"]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "Post"], ["record_id", 11], ["blob_id", 9], ["created_at", "2023-08-22 13:28:44.426765"]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mPost Update (0.3ms)[0m  [1m[33mUPDATE "posts" SET "updated_at" = ? WHERE "posts"."id" = ?[0m  [["updated_at", "2023-08-22 13:28:44.428000"], ["id", 11]]
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:31:in `create'
[36m  Disk Storage (7.1ms) [0m[32mUploaded file to key: 10vw4ui5okqzwfv5h3ytos81fyf4 (checksum: JoH89RgkKayyniPfjT8y6g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 34d31085-04c7-4a90-92bb-2c66acb65f11) to Async(default) with arguments: #<GlobalID:0x00007f796cafadb0 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/9>>
Redirected to http://localhost:3000/posts/11
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 55ms (ActiveRecord: 13.8ms | Allocations: 10317)


[ActiveJob] [ActiveStorage::AnalyzeJob] [34d31085-04c7-4a90-92bb-2c66acb65f11]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [34d31085-04c7-4a90-92bb-2c66acb65f11] Performing ActiveStorage::AnalyzeJob (Job ID: 34d31085-04c7-4a90-92bb-2c66acb65f11) from Async(default) enqueued at 2023-08-22T13:28:44Z with arguments: #<GlobalID:0x00007f7978aba808 @uri=#<URI::GID gid://devise-token-auth-twitter/ActiveStorage::Blob/9>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [34d31085-04c7-4a90-92bb-2c66acb65f11] [36m  Disk Storage (2.3ms) [0m[34mDownloaded file from key: 10vw4ui5okqzwfv5h3ytos81fyf4[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [34d31085-04c7-4a90-92bb-2c66acb65f11]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [34d31085-04c7-4a90-92bb-2c66acb65f11]   [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":4896,\"height\":3264,\"analyzed\":true}"], ["id", 9]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [34d31085-04c7-4a90-92bb-2c66acb65f11]   [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [34d31085-04c7-4a90-92bb-2c66acb65f11] Performed ActiveStorage::AnalyzeJob (Job ID: 34d31085-04c7-4a90-92bb-2c66acb65f11) from Async(default) in 147.25ms
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateComments (20230822133637)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "post_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_post_id" ON "comments" ("post_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822133637"]]
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:44:47 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CommentsController#create as */*
  Parameters: {"content"=>"This is a comment on the post.", "post_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
Completed 400 Bad Request in 93ms (ActiveRecord: 0.7ms | Allocations: 16337)


  
ActionController::ParameterMissing (param is missing or the value is empty: comment
Did you mean?  content):
  
app/controllers/comments_controller.rb:25:in `comment_params'
app/controllers/comments_controller.rb:6:in `create'
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:45:09 +0300
Processing by CommentsController#create as */*
  Parameters: {"comment"=>"This is a comment on the post.", "post_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms | Allocations: 2790)


  
NoMethodError (undefined method `permit' for "This is a comment on the post.":String):
  
app/controllers/comments_controller.rb:25:in `comment_params'
app/controllers/comments_controller.rb:6:in `create'
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:45:38 +0300
Processing by CommentsController#create as */*
  Parameters: {"comment"=>"This is a comment on the post.", "post_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
Completed 500 Internal Server Error in 80ms (ActiveRecord: 1.4ms | Allocations: 18686)


  
NoMethodError (undefined method `permit' for "This is a comment on the post.":String):
  
app/controllers/comments_controller.rb:25:in `comment_params'
app/controllers/comments_controller.rb:6:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:46:26 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by CommentsController#create as */*
  Parameters: {"comment"=>"This is a comment on the post.", "post_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
Completed 500 Internal Server Error in 105ms (ActiveRecord: 1.1ms | Allocations: 54344)


  
NoMethodError (undefined method `permit' for "This is a comment on the post.":String):
  
app/controllers/comments_controller.rb:25:in `comment_params'
app/controllers/comments_controller.rb:6:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:47:07 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by CommentsController#create as */*
  Parameters: {"comment"=>"This is a comment on the post.", "post_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
Completed 500 Internal Server Error in 109ms (ActiveRecord: 1.3ms | Allocations: 54344)


  
NoMethodError (undefined method `permit' for "This is a comment on the post.":String):
  
app/controllers/comments_controller.rb:25:in `comment_params'
app/controllers/comments_controller.rb:6:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:48:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by CommentsController#create as */*
  Parameters: {"content"=>"This is a comment on the post.", "post_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
Completed 400 Bad Request in 105ms (ActiveRecord: 1.2ms | Allocations: 53230)


  
ActionController::ParameterMissing (param is missing or the value is empty: comment
Did you mean?  content):
  
app/controllers/comments_controller.rb:25:in `comment_params'
app/controllers/comments_controller.rb:6:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:49:21 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by CommentsController#create as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mComment Create (0.3ms)[0m  [1m[32mINSERT INTO "comments" ("content", "user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "This is a comment on the post."], ["user_id", 1], ["post_id", 1], ["created_at", "2023-08-22 13:49:22.075444"], ["updated_at", "2023-08-22 13:49:22.075444"]]
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
Redirected to http://localhost:3000/posts/1
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 132ms (ActiveRecord: 14.6ms | Allocations: 71447)


Started POST "/posts/1" for 127.0.0.1 at 2023-08-22 16:49:22 +0300
  
ActionController::RoutingError (No route matches [POST] "/posts/1"):
  
Started GET "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:52:35 +0300
  
ActionController::RoutingError (No route matches [GET] "/posts/1/comments"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:53:44 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by CommentsController#create as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mComment Create (0.2ms)[0m  [1m[32mINSERT INTO "comments" ("content", "user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "This is a comment on the post."], ["user_id", 1], ["post_id", 1], ["created_at", "2023-08-22 13:53:45.036080"], ["updated_at", "2023-08-22 13:53:45.036080"]]
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
Redirected to http://localhost:3000/posts/1
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 120ms (ActiveRecord: 7.0ms | Allocations: 71435)


Started POST "/posts/1" for 127.0.0.1 at 2023-08-22 16:53:45 +0300
  
ActionController::RoutingError (No route matches [POST] "/posts/1"):
  
Started GET "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:54:08 +0300
  
ActionController::RoutingError (No route matches [GET] "/posts/1/comments"):
  
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 16:54:17 +0300
Processing by CommentsController#create as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mComment Create (0.4ms)[0m  [1m[32mINSERT INTO "comments" ("content", "user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "This is a comment on the post."], ["user_id", 1], ["post_id", 1], ["created_at", "2023-08-22 13:54:17.450600"], ["updated_at", "2023-08-22 13:54:17.450600"]]
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
Redirected to http://localhost:3000/posts/1
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 24ms (ActiveRecord: 13.2ms | Allocations: 4406)


Started POST "/posts/1" for 127.0.0.1 at 2023-08-22 16:54:17 +0300
  
ActionController::RoutingError (No route matches [POST] "/posts/1"):
  
Started POST "/posts/:1/comments" for 127.0.0.1 at 2023-08-22 16:54:43 +0300
Processing by CommentsController#create as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>":1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1583)


  
ActiveRecord::RecordNotFound (Couldn't find Post with 'id'=:1):
  
app/controllers/comments_controller.rb:5:in `create'
Started GET "/posts/:1/comments" for 127.0.0.1 at 2023-08-22 16:54:50 +0300
  
ActionController::RoutingError (No route matches [GET] "/posts/:1/comments"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/" for ::1 at 2023-08-22 17:01:12 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/railties-7.0.7/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.3ms | Allocations: 708)
Completed 200 OK in 23ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 14865)


Started GET "/posts" for ::1 at 2023-08-22 17:01:20 +0300
Processing by PostsController#index as HTML
Completed 406 Not Acceptable in 6ms (ActiveRecord: 0.0ms | Allocations: 7172)


  
ActionController::MissingExactTemplate (PostsController#index is missing a template for request formats: text/html):
  
actionpack (7.0.7) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.7) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.7) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/users" for ::1 at 2023-08-22 17:01:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 17:02:34 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by CommentsController#create as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mComment Create (0.2ms)[0m  [1m[32mINSERT INTO "comments" ("content", "user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "This is a comment on the post."], ["user_id", 1], ["post_id", 1], ["created_at", "2023-08-22 14:02:35.069493"], ["updated_at", "2023-08-22 14:02:35.069493"]]
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
Redirected to http://localhost:3000/posts/1
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 128ms (ActiveRecord: 14.6ms | Allocations: 71435)


Started POST "/posts/1" for 127.0.0.1 at 2023-08-22 17:02:35 +0300
  
ActionController::RoutingError (No route matches [POST] "/posts/1"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/posts/1/comments" for 127.0.0.1 at 2023-08-22 17:03:39 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/posts/1/comments"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/posts/1/comments" for 127.0.0.1 at 2023-08-22 17:05:37 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
AbstractController::ActionNotFound (The action 'index_for_post' could not be found for CommentsController):
  
actionpack (7.0.7) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 17:10:13 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
AbstractController::ActionNotFound (The action 'create_for_post' could not be found for CommentsController):
  
actionpack (7.0.7) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments" for 127.0.0.1 at 2023-08-22 17:11:08 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by CommentsController#create as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mComment Create (0.4ms)[0m  [1m[32mINSERT INTO "comments" ("content", "user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "This is a comment on the post."], ["user_id", 1], ["post_id", 1], ["created_at", "2023-08-22 14:11:09.015012"], ["updated_at", "2023-08-22 14:11:09.015012"]]
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
Redirected to http://localhost:3000/posts/1
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 157ms (ActiveRecord: 8.3ms | Allocations: 71450)


Started POST "/posts/1" for 127.0.0.1 at 2023-08-22 17:11:09 +0300
  
ActionController::RoutingError (No route matches [POST] "/posts/1"):
  
Started GET "/posts/1/comments" for 127.0.0.1 at 2023-08-22 17:12:56 +0300
Error occurred while parsing request parameters.
Contents:



Processing by CommentsController#index as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 187)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:96:in `rescue in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:92:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_controller/metal/strong_parameters.rb:1209:in `params'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:53:in `set_user_by_token'
devise_token_auth (1.2.2) lib/devise_token_auth/controllers/helpers.rb:130:in `current_user'
devise_token_auth (1.2.2) lib/devise_token_auth/controllers/helpers.rb:120:in `authenticate_user!'
activesupport (7.0.7) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.7) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.7) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.7) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.7) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.7) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.7) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/posts/1/comments" for 127.0.0.1 at 2023-08-22 17:13:06 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Error occurred while parsing request parameters.
Contents:



Processing by CommentsController#index as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 199)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:96:in `rescue in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:92:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_controller/metal/strong_parameters.rb:1209:in `params'
devise_token_auth (1.2.2) app/controllers/devise_token_auth/concerns/set_user_by_token.rb:53:in `set_user_by_token'
devise_token_auth (1.2.2) lib/devise_token_auth/controllers/helpers.rb:130:in `current_user'
devise_token_auth (1.2.2) lib/devise_token_auth/controllers/helpers.rb:120:in `authenticate_user!'
activesupport (7.0.7) lib/active_support/callbacks.rb:400:in `block in make_lambda'
activesupport (7.0.7) lib/active_support/callbacks.rb:199:in `block (2 levels) in halting'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.0.7) lib/active_support/callbacks.rb:200:in `block in halting'
activesupport (7.0.7) lib/active_support/callbacks.rb:595:in `block in invoke_before'
activesupport (7.0.7) lib/active_support/callbacks.rb:595:in `each'
activesupport (7.0.7) lib/active_support/callbacks.rb:595:in `invoke_before'
activesupport (7.0.7) lib/active_support/callbacks.rb:106:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /home/markpaul/.rbenv/versions/2.7.6/lib/ruby/gems/2.7.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/posts/1/comments" for 127.0.0.1 at 2023-08-22 17:14:50 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CommentsController#index as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:16:in `index'
  [1m[36mComment Load (0.2ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = ?[0m  [["post_id", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:18:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 117ms (Views: 13.0ms | ActiveRecord: 3.5ms | Allocations: 70712)


Started POST "/posts/3/comments" for 127.0.0.1 at 2023-08-22 17:15:25 +0300
Processing by CommentsController#create as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mComment Create (0.3ms)[0m  [1m[32mINSERT INTO "comments" ("content", "user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "This is a comment on the post."], ["user_id", 1], ["post_id", 3], ["created_at", "2023-08-22 14:15:25.287237"], ["updated_at", "2023-08-22 14:15:25.287237"]]
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
Redirected to http://localhost:3000/posts/3
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 22ms (ActiveRecord: 13.4ms | Allocations: 4728)


Started POST "/posts/3" for 127.0.0.1 at 2023-08-22 17:15:25 +0300
  
ActionController::RoutingError (No route matches [POST] "/posts/3"):
  
Started POST "/posts/9/comments" for 127.0.0.1 at 2023-08-22 17:15:33 +0300
Processing by CommentsController#create as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>"9"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mComment Create (0.2ms)[0m  [1m[32mINSERT INTO "comments" ("content", "user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["content", "This is a comment on the post."], ["user_id", 1], ["post_id", 9], ["created_at", "2023-08-22 14:15:33.657915"], ["updated_at", "2023-08-22 14:15:33.657915"]]
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/comments_controller.rb:9:in `create'
Redirected to http://localhost:3000/posts/9
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 302 Found in 20ms (ActiveRecord: 13.2ms | Allocations: 4402)


Started POST "/posts/9" for 127.0.0.1 at 2023-08-22 17:15:33 +0300
  
ActionController::RoutingError (No route matches [POST] "/posts/9"):
  
Started GET "/posts/9/comments" for 127.0.0.1 at 2023-08-22 17:15:45 +0300
Processing by CommentsController#index as */*
  Parameters: {"comment"=>{"content"=>"This is a comment on the post."}, "post_id"=>"9"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comments_controller.rb:16:in `index'
  [1m[36mComment Load (0.0ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = ?[0m  [["post_id", 9]]
  ‚Ü≥ app/controllers/comments_controller.rb:18:in `index'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 3281)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCommentLikes (20230822145753)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comment_likes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "comment_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_efcc5b56dc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_c28a479c60"
FOREIGN KEY ("comment_id")
  REFERENCES "comments" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comment_likes_on_user_id" ON "comment_likes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comment_likes_on_comment_id" ON "comment_likes" ("comment_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822145753"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments/1/like" for 127.0.0.1 at 2023-08-22 18:01:10 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by CommentLikesController#like as */*
  Parameters: {"post_id"=>"1", "comment_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comment_likes_controller.rb:5:in `like'
Completed 500 Internal Server Error in 100ms (ActiveRecord: 1.0ms | Allocations: 45227)


  
NoMethodError (undefined method `comment_likes' for #<Comment:0x00007f055c2d5588>):
  
app/controllers/comment_likes_controller.rb:6:in `like'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/comments/1/like" for 127.0.0.1 at 2023-08-22 18:02:26 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by CommentLikesController#like as */*
  Parameters: {"post_id"=>"1", "comment_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comment_likes_controller.rb:5:in `like'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/comment_likes_controller.rb:6:in `like'
  [1m[36mCommentLike Create (0.2ms)[0m  [1m[32mINSERT INTO "comment_likes" ("user_id", "comment_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["comment_id", 1], ["created_at", "2023-08-22 15:02:27.085842"], ["updated_at", "2023-08-22 15:02:27.085842"]]
  ‚Ü≥ app/controllers/comment_likes_controller.rb:6:in `like'
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/comment_likes_controller.rb:6:in `like'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 135ms (Views: 0.3ms | ActiveRecord: 14.3ms | Allocations: 68376)


Started POST "/posts/1/comments/1/dislike" for 127.0.0.1 at 2023-08-22 18:03:53 +0300
Processing by CommentLikesController#dislike as */*
  Parameters: {"post_id"=>"1", "comment_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mComment Load (0.1ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comment_likes_controller.rb:15:in `dislike'
  [1m[36mCommentLike Load (0.1ms)[0m  [1m[34mSELECT "comment_likes".* FROM "comment_likes" WHERE "comment_likes"."comment_id" = ? AND "comment_likes"."user_id" = ? LIMIT ?[0m  [["comment_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comment_likes_controller.rb:16:in `dislike'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/comment_likes_controller.rb:17:in `dislike'
  [1m[36mCommentLike Destroy (0.2ms)[0m  [1m[31mDELETE FROM "comment_likes" WHERE "comment_likes"."id" = ?[0m  [["id", 1]]
  ‚Ü≥ app/controllers/comment_likes_controller.rb:17:in `dislike'
  [1m[36mTRANSACTION (12.2ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/comment_likes_controller.rb:17:in `dislike'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 12.9ms | Allocations: 4609)


Started POST "/posts/1/comments/1/dislike" for 127.0.0.1 at 2023-08-22 18:03:58 +0300
Processing by CommentLikesController#dislike as */*
  Parameters: {"post_id"=>"1", "comment_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mComment Load (0.0ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comment_likes_controller.rb:15:in `dislike'
  [1m[36mCommentLike Load (0.0ms)[0m  [1m[34mSELECT "comment_likes".* FROM "comment_likes" WHERE "comment_likes"."comment_id" = ? AND "comment_likes"."user_id" = ? LIMIT ?[0m  [["comment_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/comment_likes_controller.rb:16:in `dislike'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3217)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/dislike" for 127.0.0.1 at 2023-08-22 18:08:33 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230822150554_create_post_likes.rb


):
  
activerecord (7.0.7) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.7) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.7) lib/active_support/file_update_checker.rb:83:in `execute'
activesupport (7.0.7) lib/active_support/file_update_checker.rb:93:in `execute_if_updated'
activerecord (7.0.7) lib/active_record/migration.rb:599:in `block in call'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/dislike" for 127.0.0.1 at 2023-08-22 18:08:42 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230822150554_create_post_likes.rb


):
  
activerecord (7.0.7) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.7) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.7) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.7) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.7) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePostLikes (20230822150554)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "post_likes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "post_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d07653f350"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a04bfa7e81"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_post_likes_on_user_id" ON "post_likes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_post_likes_on_post_id" ON "post_likes" ("post_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822150554"]]
  [1m[36mTRANSACTION (23.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/posts/1/dislike" for 127.0.0.1 at 2023-08-22 18:09:12 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by PostLikesController#dislike as */*
  Parameters: {"post_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/post_likes_controller.rb:15:in `dislike'
  [1m[36mPostLike Load (0.2ms)[0m  [1m[34mSELECT "post_likes".* FROM "post_likes" WHERE "post_likes"."post_id" = ? AND "post_likes"."user_id" = ? LIMIT ?[0m  [["post_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/post_likes_controller.rb:16:in `dislike'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 119ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 57262)


Started POST "/posts/1/like" for 127.0.0.1 at 2023-08-22 18:09:18 +0300
Processing by PostLikesController#like as */*
  Parameters: {"post_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "markpaulmuthaura@gmail.com"], ["LIMIT", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/post_likes_controller.rb:5:in `like'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/post_likes_controller.rb:6:in `like'
  [1m[36mPostLike Create (0.2ms)[0m  [1m[32mINSERT INTO "post_likes" ("user_id", "post_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["post_id", 1], ["created_at", "2023-08-22 15:09:18.976284"], ["updated_at", "2023-08-22 15:09:18.976284"]]
  ‚Ü≥ app/controllers/post_likes_controller.rb:6:in `like'
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/post_likes_controller.rb:6:in `like'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 13.4ms | Allocations: 18405)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProfiles (20230822152334)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "first_name" varchar, "last_name" varchar, "bio" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822152334"]]
  [1m[36mTRANSACTION (14.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:31:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
AbstractController::ActionNotFound (The action 'create' could not be found for Auth::RegistrationsController):
  
actionpack (7.0.7) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.7) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:31:41 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
AbstractController::ActionNotFound (The action 'create' could not be found for Auth::RegistrationsController):
  
actionpack (7.0.7) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.7) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:33:30 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/auth"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:35:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/auth"):
  
Started POST "/" for 127.0.0.1 at 2023-08-22 18:35:31 +0300
  
ActionController::RoutingError (No route matches [POST] "/"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:36:35 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/auth"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:41:17 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/auth"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:42:46 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/auth"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:43:52 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"email"=>"john@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "john@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["uid", "john@example.com"], ["encrypted_password", "[FILTERED]"], ["email", "john@example.com"], ["created_at", "2023-08-22 15:43:52.827627"], ["updated_at", "2023-08-22 15:43:52.827627"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:58:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 15:43:52.909220"], ["id", 3]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
Completed 200 OK in 373ms (Views: 0.2ms | ActiveRecord: 20.1ms | Allocations: 43145)


Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:44:21 +0300
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"name"=>"John Doe", "email"=>"johndoe@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
[31mUnpermitted parameter: :name. Context: { controller: Auth::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f74687bd8e0>, params: {"name"=>"John Doe", "email"=>"johndoe@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"auth/registrations", "action"=>"create"} }[0m
[31mUnpermitted parameter: :name. Context: { controller: Auth::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f74687bd8e0>, params: {"name"=>"John Doe", "email"=>"johndoe@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"auth/registrations", "action"=>"create"} }[0m
[31mUnpermitted parameter: :name. Context: { controller: Auth::RegistrationsController, action: create, request: #<ActionDispatch::Request:0x00007f74687bd8e0>, params: {"name"=>"John Doe", "email"=>"johndoe@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "controller"=>"auth/registrations", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["uid", "johndoe@example.com"], ["encrypted_password", "[FILTERED]"], ["email", "johndoe@example.com"], ["created_at", "2023-08-22 15:44:21.346275"], ["updated_at", "2023-08-22 15:44:21.346275"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:58:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 15:44:21.429899"], ["id", 4]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
Completed 200 OK in 353ms (Views: 0.2ms | ActiveRecord: 19.0ms | Allocations: 6403)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:46:23 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"name"=>"John Doe", "email"=>"johndoe@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 250)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/auth/registrations_controller.rb:42:in `sign_up_params'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:48:37 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
Completed 422 Unprocessable Entity in 274ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 40102)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:50:26 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe1@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe1@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
Completed 422 Unprocessable Entity in 297ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 39243)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:51:16 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe1@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe1@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
Completed 422 Unprocessable Entity in 280ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 39243)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 18:52:00 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe1@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe1@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe1@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe1@example.com"], ["created_at", "2023-08-22 15:52:00.707843"], ["updated_at", "2023-08-22 15:52:00.707843"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:58:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 15:52:00.780739"], ["id", 5]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:57:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 5], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:52:in `render_create_success'
Completed 200 OK in 388ms (Views: 0.4ms | ActiveRecord: 12.5ms | Allocations: 48622)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 19:03:47 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe12@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe12@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe12@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe12@example.com"], ["created_at", "2023-08-22 16:03:47.860360"], ["updated_at", "2023-08-22 16:03:47.860360"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 16:03:47.933214"], ["id", 6]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 6], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:56:in `render_create_success'
Completed 200 OK in 384ms (Views: 0.4ms | ActiveRecord: 12.7ms | Allocations: 48625)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 19:08:54 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe3@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe3@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe3@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe3@example.com"], ["created_at", "2023-08-22 16:08:54.691361"], ["updated_at", "2023-08-22 16:08:54.691361"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mTRANSACTION (12.3ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:73:in `block in create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 16:08:54.770214"], ["id", 7]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 7], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:67:in `render_create_success'
Completed 200 OK in 374ms (Views: 0.4ms | ActiveRecord: 19.3ms | Allocations: 48616)


Started POST "/auth" for 127.0.0.1 at 2023-08-22 19:12:07 +0300
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe4@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe4@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe4@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe4@example.com"], ["created_at", "2023-08-22 16:12:07.437236"], ["updated_at", "2023-08-22 16:12:07.437236"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:73:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 16:12:07.515074"], ["id", 8]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:72:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 8], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:67:in `render_create_success'
Completed 200 OK in 355ms (Views: 0.5ms | ActiveRecord: 19.6ms | Allocations: 14553)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 19:15:05 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe6@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:74:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe6@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:74:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe6@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe6@example.com"], ["created_at", "2023-08-22 16:15:05.768856"], ["updated_at", "2023-08-22 16:15:05.768856"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:74:in `create'
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:74:in `create'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:75:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:74:in `create'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 16:15:05.850377"], ["id", 9]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:74:in `create'
  [1m[36mTRANSACTION (11.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:74:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:74:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 9], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:69:in `render_create_success'
Completed 200 OK in 384ms (Views: 0.4ms | ActiveRecord: 27.0ms | Allocations: 48615)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 19:26:35 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
  
AbstractController::ActionNotFound (The action 'create' could not be found for Auth::RegistrationsController):
  
actionpack (7.0.7) lib/abstract_controller/base.rb:146:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
actionpack (7.0.7) lib/action_dispatch/routing/mapper.rb:48:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/auth" for 127.0.0.1 at 2023-08-22 19:27:05 +0300
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe7@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe7@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe7@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe7@example.com"], ["created_at", "2023-08-22 16:27:05.426696"], ["updated_at", "2023-08-22 16:27:05.426696"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `create'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:32:in `block in create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `create'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 16:27:05.498109"], ["id", 10]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 10], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:26:in `render_create_success'
Completed 200 OK in 376ms (Views: 0.5ms | ActiveRecord: 12.7ms | Allocations: 48734)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 19:29:51 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe8@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:33:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe8@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:33:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe8@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe8@example.com"], ["created_at", "2023-08-22 16:29:51.917414"], ["updated_at", "2023-08-22 16:29:51.917414"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:33:in `create'
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:33:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:34:in `block in create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:33:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 16:29:51.995686"], ["id", 11]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:33:in `create'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:33:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:33:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 11], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:28:in `render_create_success'
Completed 200 OK in 375ms (Views: 0.4ms | ActiveRecord: 19.6ms | Allocations: 48615)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "bio", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["bio", "Default bio"], ["created_at", "2023-08-22 16:43:14.695242"], ["updated_at", "2023-08-22 16:43:14.695242"]]
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 19:51:45 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe9@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:18:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe9@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:18:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe9@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe9@example.com"], ["created_at", "2023-08-22 16:51:46.319405"], ["updated_at", "2023-08-22 16:51:46.319405"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:18:in `create'
  [1m[36mTRANSACTION (14.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:18:in `create'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:19:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:18:in `create'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 16:51:46.410853"], ["id", 12]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:18:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:18:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:18:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 12], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `render_create_success'
Completed 200 OK in 504ms (Views: 0.4ms | ActiveRecord: 22.3ms | Allocations: 48616)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles"[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 19:59:52 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe10@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:22:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe10@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:22:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe10@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe10@example.com"], ["created_at", "2023-08-22 16:59:53.049161"], ["updated_at", "2023-08-22 16:59:53.049161"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:22:in `create'
  [1m[36mTRANSACTION (12.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:22:in `create'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:23:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:22:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 16:59:53.128514"], ["id", 13]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:22:in `create'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:22:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:22:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 13], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:15:in `render_create_success'
Completed 200 OK in 380ms (Views: 0.3ms | ActiveRecord: 19.5ms | Allocations: 48460)


Started POST "/auth" for 127.0.0.1 at 2023-08-22 20:39:27 +0300
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe10@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe10@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
Completed 422 Unprocessable Entity in 257ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 8777)


Started POST "/auth" for 127.0.0.1 at 2023-08-22 20:39:50 +0300
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe11@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe11@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe11@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe11@example.com"], ["created_at", "2023-08-22 17:39:50.527835"], ["updated_at", "2023-08-22 17:39:50.527835"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 17:39:50.606395"], ["id", 14]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 14], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `render_create_success'
Completed 200 OK in 338ms (Views: 0.8ms | ActiveRecord: 19.6ms | Allocations: 9045)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 22:48:25 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe12@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe12@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
Completed 422 Unprocessable Entity in 286ms (Views: 0.4ms | ActiveRecord: 0.8ms | Allocations: 39233)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 22:49:09 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe13@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Exists? (7.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe13@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe13@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe13@example.com"], ["created_at", "2023-08-22 19:49:09.770559"], ["updated_at", "2023-08-22 19:49:09.770559"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:31:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 19:49:09.843856"], ["id", 15]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:30:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 15], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:13:in `render_create_success'
Completed 200 OK in 382ms (Views: 0.4ms | ActiveRecord: 21.0ms | Allocations: 48617)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 22:54:47 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe14@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe14@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe14@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe14@example.com"], ["created_at", "2023-08-22 19:54:48.202447"], ["updated_at", "2023-08-22 19:54:48.202447"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `block in create_profile'
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "first_name", "bio", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 16], ["first_name", "John Doe"], ["bio", "Default bio"], ["created_at", "2023-08-22 19:54:48.232662"], ["updated_at", "2023-08-22 19:54:48.232662"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `block in create_profile'
Profile created successfully: #<Profile id: 2, user_id: 16, first_name: "John Doe", last_name: nil, bio: "Default bio", created_at: "2023-08-22 19:54:48.232662000 +0000", updated_at: "2023-08-22 19:54:48.232662000 +0000">
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:60:in `create_profile'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 19:54:48.308220"], ["id", 16]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 16], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:78:in `render_create_success'
Completed 200 OK in 458ms (Views: 0.9ms | ActiveRecord: 22.3ms | Allocations: 65200)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:13:40 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe15@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe15@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe15@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe15@example.com"], ["created_at", "2023-08-22 20:13:40.628313"], ["updated_at", "2023-08-22 20:13:40.628313"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:77:in `block in create_profile'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:76:in `create_profile'
Completed 500 Internal Server Error in 307ms (ActiveRecord: 6.6ms | Allocations: 59580)


  
ActiveModel::UnknownAttributeError (unknown attribute 'nickname' for Profile.):
  
app/controllers/auth/registrations_controller.rb:77:in `block in create_profile'
app/controllers/auth/registrations_controller.rb:76:in `create_profile'
app/controllers/auth/registrations_controller.rb:54:in `block in create'
app/controllers/auth/registrations_controller.rb:49:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:15:42 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe16@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe16@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe16@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["email", "johndoe16@example.com"], ["created_at", "2023-08-22 20:15:42.831109"], ["updated_at", "2023-08-22 20:15:42.831109"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:77:in `block in create_profile'
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "first_name", "bio", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 18], ["first_name", "John Doe"], ["bio", "Default bio"], ["created_at", "2023-08-22 20:15:42.863201"], ["updated_at", "2023-08-22 20:15:42.863201"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:77:in `block in create_profile'
Profile created successfully: #<Profile id: 3, user_id: 18, first_name: "John Doe", last_name: nil, bio: "Default bio", created_at: "2023-08-22 20:15:42.863201000 +0000", updated_at: "2023-08-22 20:15:42.863201000 +0000">
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:76:in `create_profile'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 20:15:42.932382"], ["id", 18]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 18], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:97:in `render_create_success'
Completed 200 OK in 394ms (Views: 0.8ms | ActiveRecord: 26.2ms | Allocations: 65244)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:17:52 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe16@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nickname"=>"johndoe_nickname", "image"=>"https://example.com/avatar.jpg"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe16@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
Completed 422 Unprocessable Entity in 275ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 40057)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:18:30 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe17@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nickname"=>"johndoe_nickname", "image"=>"https://example.com/avatar.jpg"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe17@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "nickname", "image", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe17@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["nickname", "johndoe_nickname"], ["image", "https://example.com/avatar.jpg"], ["email", "johndoe17@example.com"], ["created_at", "2023-08-22 20:18:30.781453"], ["updated_at", "2023-08-22 20:18:30.781453"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:77:in `block in create_profile'
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "first_name", "bio", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 19], ["first_name", "John Doe"], ["bio", "Default bio"], ["created_at", "2023-08-22 20:18:30.805205"], ["updated_at", "2023-08-22 20:18:30.805205"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:77:in `block in create_profile'
Profile created successfully: #<Profile id: 4, user_id: 19, first_name: "John Doe", last_name: nil, bio: "Default bio", created_at: "2023-08-22 20:18:30.805205000 +0000", updated_at: "2023-08-22 20:18:30.805205000 +0000">
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:76:in `create_profile'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 20:18:30.876114"], ["id", 19]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 19], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:97:in `render_create_success'
Completed 200 OK in 384ms (Views: 1.0ms | ActiveRecord: 17.2ms | Allocations: 65304)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:21:11 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe18@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nickname"=>"johndoe_nickname", "image"=>"https://example.com/avatar.jpg"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe18@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "nickname", "image", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe18@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["nickname", "johndoe_nickname"], ["image", "https://example.com/avatar.jpg"], ["email", "johndoe18@example.com"], ["created_at", "2023-08-22 20:21:11.895777"], ["updated_at", "2023-08-22 20:21:11.895777"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
Completed 500 Internal Server Error in 299ms (ActiveRecord: 11.9ms | Allocations: 45236)


  
NoMethodError (undefined method `second_name' for #<User:0x00007f4e2093e0e8>):
  
app/controllers/auth/registrations_controller.rb:80:in `block in create_profile'
app/controllers/auth/registrations_controller.rb:76:in `create_profile'
app/controllers/auth/registrations_controller.rb:54:in `block in create'
app/controllers/auth/registrations_controller.rb:49:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:27:12 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe19@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nickname"=>"johndoe_nickname", "image"=>"https://example.com/avatar.jpg"}}
Completed 500 Internal Server Error in 268ms (ActiveRecord: 0.5ms | Allocations: 35182)


  
ActiveModel::UnknownAttributeError (unknown attribute 'first_name' for User.):
  
app/controllers/auth/registrations_controller.rb:49:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:29:50 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe21@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nickname"=>"johndoe_nickname", "image"=>"https://example.com/avatar.jpg"}}
Completed 500 Internal Server Error in 272ms (ActiveRecord: 0.8ms | Allocations: 35696)


  
ActiveModel::UnknownAttributeError (unknown attribute 'last_name' for User.):
  
app/controllers/auth/registrations_controller.rb:49:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:30:57 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe22@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nickname"=>"johndoe_nickname", "image"=>"https://example.com/avatar.jpg"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe22@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "nickname", "image", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe22@example.com"], ["encrypted_password", "[FILTERED]"], ["nickname", "johndoe_nickname"], ["image", "https://example.com/avatar.jpg"], ["email", "johndoe22@example.com"], ["created_at", "2023-08-22 20:30:57.564998"], ["updated_at", "2023-08-22 20:30:57.564998"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
Completed 500 Internal Server Error in 290ms (ActiveRecord: 13.9ms | Allocations: 41163)


  
NoMethodError (undefined method `split' for nil:NilClass):
  
app/controllers/auth/registrations_controller.rb:59:in `create_profile'
app/controllers/auth/registrations_controller.rb:54:in `block in create'
app/controllers/auth/registrations_controller.rb:49:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:32:54 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/markpaul/projects/Blog-1/api/app/controllers/auth/registrations_controller.rb:145: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/auth/registrations_controller.rb:145: syntax error, unexpected end-of-input, expecting `end'
app/controllers/auth/registrations_controller.rb:145: syntax error, unexpected end-of-input, expecting `end'
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:33:48 +0300
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe21@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nickname"=>"johndoe_nickname", "image"=>"https://example.com/avatar.jpg"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe21@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "nickname", "image", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe21@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["nickname", "johndoe_nickname"], ["image", "https://example.com/avatar.jpg"], ["email", "johndoe21@example.com"], ["created_at", "2023-08-22 20:33:48.772238"], ["updated_at", "2023-08-22 20:33:48.772238"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
  [1m[36mProfile Create (0.2ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "first_name", "last_name", "bio", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 22], ["first_name", "John"], ["last_name", "Doe"], ["bio", "Default bio"], ["created_at", "2023-08-22 20:33:48.804044"], ["updated_at", "2023-08-22 20:33:48.804044"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
Profile created successfully: #<Profile id: 5, user_id: 22, first_name: "John", last_name: "Doe", bio: "Default bio", created_at: "2023-08-22 20:33:48.804044000 +0000", updated_at: "2023-08-22 20:33:48.804044000 +0000">
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create_profile'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 20:33:48.873672"], ["id", 22]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 22], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:103:in `render_create_success'
Completed 200 OK in 395ms (Views: 0.5ms | ActiveRecord: 25.0ms | Allocations: 65448)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-22 23:36:04 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-1/api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe", "email"=>"johndoe24@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "nickname"=>"johndoe_nickname", "image"=>"https://example.com/avatar.jpg"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "johndoe24@example.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "nickname", "image", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["uid", "johndoe24@example.com"], ["encrypted_password", "[FILTERED]"], ["name", "John Doe"], ["nickname", "johndoe_nickname"], ["image", "https://example.com/avatar.jpg"], ["email", "johndoe24@example.com"], ["created_at", "2023-08-22 20:36:05.319417"], ["updated_at", "2023-08-22 20:36:05.319417"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "first_name", "last_name", "bio", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 23], ["first_name", "John"], ["last_name", "Doe"], ["bio", "Default bio"], ["created_at", "2023-08-22 20:36:05.350972"], ["updated_at", "2023-08-22 20:36:05.350972"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
Profile created successfully: #<Profile id: 6, user_id: 23, first_name: "John", last_name: "Doe", bio: "Default bio", created_at: "2023-08-22 20:36:05.350972000 +0000", updated_at: "2023-08-22 20:36:05.350972000 +0000">
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create_profile'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-22 20:36:05.421875"], ["id", 23]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 23], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:103:in `render_create_success'
Completed 200 OK in 389ms (Views: 0.8ms | ActiveRecord: 25.5ms | Allocations: 65328)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[35m (100.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (104.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-30 18:37:56.273919"], ["updated_at", "2023-08-30 18:37:56.273919"]]
  [1m[36mTRANSACTION (72.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth" for ::1 at 2023-08-30 22:30:34 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"", "email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 395)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/auth/registrations_controller.rb:111:in `sign_up_params'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth" for ::1 at 2023-08-30 22:31:22 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"markpaul", "email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 395)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/auth/registrations_controller.rb:111:in `sign_up_params'
Started POST "/auth" for ::1 at 2023-08-30 22:32:53 +0300
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"markpaul", "email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 299)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/auth/registrations_controller.rb:111:in `sign_up_params'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth" for ::1 at 2023-08-30 22:34:03 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"markpaul", "email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 395)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/auth/registrations_controller.rb:42:in `sign_up_params'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /var/lib/gems/3.1.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/ws" for ::1 at 2023-08-30 22:45:50 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-08-30 22:46:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-08-30 22:47:27 +0300
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started GET "/ws" for ::1 at 2023-08-30 22:49:35 +0300
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
Started POST "/auth" for ::1 at 2023-08-30 22:50:43 +0300
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"markpaul", "email"=>"mark@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 386)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/auth/registrations_controller.rb:94:in `sign_up_params'
Started POST "/auth" for 127.0.0.1 at 2023-08-30 22:51:58 +0300
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"email"=>"example@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 171)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/auth/registrations_controller.rb:94:in `sign_up_params'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-30 22:53:07 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"markpaul9@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.3ms | Allocations: 10992)


  
ActiveRecord::StatementInvalid (Could not find table 'users'):
  
app/controllers/auth/registrations_controller.rb:49:in `create'
Started GET "/ws" for ::1 at 2023-08-30 22:53:52 +0300
  
ActionController::RoutingError (No route matches [GET] "/ws"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[35m (95.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (88.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-30 20:01:41.699230"], ["updated_at", "2023-08-30 20:01:41.699230"]]
  [1m[36mTRANSACTION (63.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[35m (115.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (96.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseTokenAuthCreateUsers (20230819204134)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "provider" varchar DEFAULT 'email' NOT NULL, "uid" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "allow_password_change" boolean DEFAULT 0, "remember_created_at" datetime(6), "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar, "name" varchar, "nickname" varchar, "image" varchar, "email" varchar, "tokens" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_uid_and_provider" ON "users" ("uid", "provider")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230819204134"]]
  [1m[36mTRANSACTION (118.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRoleToUsers (20230821020342)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230821020342"]]
  [1m[36mTRANSACTION (74.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePosts (20230821021958)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230821021958"]]
  [1m[36mTRANSACTION (113.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20230821023831)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230821023831"]]
  [1m[36mTRANSACTION (109.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddUserIdToPosts (20230822124504)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "posts" ADD "user_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aposts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_aposts_on_user_id" ON "aposts" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aposts" ("id","title","content","created_at","updated_at","user_id")
                     SELECT "id","title","content","created_at","updated_at","user_id" FROM "posts"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "posts"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("id","title","content","created_at","updated_at","user_id")
                     SELECT "id","title","content","created_at","updated_at","user_id" FROM "aposts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aposts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822124504"]]
  [1m[36mTRANSACTION (111.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20230822125320)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822125320"]]
  [1m[36mTRANSACTION (118.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddCategoryIdToPosts (20230822131408)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "posts" ADD "category_id" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_posts_on_category_id" ON "posts" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aposts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "category_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aposts_on_category_id" ON "aposts" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aposts_on_user_id" ON "aposts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aposts" ("id","title","content","created_at","updated_at","user_id","category_id")
                     SELECT "id","title","content","created_at","updated_at","user_id","category_id" FROM "posts"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "posts"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer NOT NULL PRIMARY KEY, "title" varchar DEFAULT NULL, "content" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "category_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_5b5ddfd518"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_9b1b26f040"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_posts_on_user_id" ON "posts" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_posts_on_category_id" ON "posts" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("id","title","content","created_at","updated_at","user_id","category_id")
                     SELECT "id","title","content","created_at","updated_at","user_id","category_id" FROM "aposts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aposts"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822131408"]]
  [1m[36mTRANSACTION (115.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateComments (20230822133637)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer NOT NULL, "post_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_post_id" ON "comments" ("post_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822133637"]]
  [1m[36mTRANSACTION (131.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCommentLikes (20230822145753)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "comment_likes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "comment_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_efcc5b56dc"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_c28a479c60"
FOREIGN KEY ("comment_id")
  REFERENCES "comments" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comment_likes_on_user_id" ON "comment_likes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comment_likes_on_comment_id" ON "comment_likes" ("comment_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822145753"]]
  [1m[36mTRANSACTION (111.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePostLikes (20230822150554)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "post_likes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "post_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d07653f350"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a04bfa7e81"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_post_likes_on_user_id" ON "post_likes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_post_likes_on_post_id" ON "post_likes" ("post_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822150554"]]
  [1m[36mTRANSACTION (115.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateProfiles (20230822152334)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "first_name" varchar, "last_name" varchar, "bio" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230822152334"]]
  [1m[36mTRANSACTION (177.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-08-30 20:03:09.687243"], ["updated_at", "2023-08-30 20:03:09.687243"]]
  [1m[36mTRANSACTION (269.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Food"], ["created_at", "2023-08-30 20:03:21.400295"], ["updated_at", "2023-08-30 20:03:21.400295"]]
  [1m[36mTRANSACTION (99.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Travel"], ["created_at", "2023-08-30 20:03:21.503568"], ["updated_at", "2023-08-30 20:03:21.503568"]]
  [1m[36mTRANSACTION (93.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Technology"], ["created_at", "2023-08-30 20:03:21.603476"], ["updated_at", "2023-08-30 20:03:21.603476"]]
  [1m[36mTRANSACTION (93.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Fashion"], ["created_at", "2023-08-30 20:03:21.703744"], ["updated_at", "2023-08-30 20:03:21.703744"]]
  [1m[36mTRANSACTION (101.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Sports"], ["created_at", "2023-08-30 20:03:21.812216"], ["updated_at", "2023-08-30 20:03:21.812216"]]
  [1m[36mTRANSACTION (101.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Art"], ["created_at", "2023-08-30 20:03:21.919933"], ["updated_at", "2023-08-30 20:03:21.919933"]]
  [1m[36mTRANSACTION (103.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Music"], ["created_at", "2023-08-30 20:03:22.028834"], ["updated_at", "2023-08-30 20:03:22.028834"]]
  [1m[36mTRANSACTION (93.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Health"], ["created_at", "2023-08-30 20:03:22.128522"], ["updated_at", "2023-08-30 20:03:22.128522"]]
  [1m[36mTRANSACTION (85.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Science"], ["created_at", "2023-08-30 20:03:22.219976"], ["updated_at", "2023-08-30 20:03:22.219976"]]
  [1m[36mTRANSACTION (101.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Education"], ["created_at", "2023-08-30 20:03:22.328343"], ["updated_at", "2023-08-30 20:03:22.328343"]]
  [1m[36mTRANSACTION (102.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Others"], ["created_at", "2023-08-30 20:03:22.437015"], ["updated_at", "2023-08-30 20:03:22.437015"]]
  [1m[36mTRANSACTION (117.8ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth" for 127.0.0.1 at 2023-08-30 23:04:23 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"markpaul9@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "markpaul9@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["uid", "markpaul9@gmail.com"], ["encrypted_password", "[FILTERED]"], ["email", "markpaul9@gmail.com"], ["created_at", "2023-08-30 20:04:24.157385"], ["updated_at", "2023-08-30 20:04:24.157385"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (86.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:51:in `block in create'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "role" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-30 20:04:24.252623"], ["role", 1], ["id", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:51:in `block in create'
  [1m[36mTRANSACTION (96.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:51:in `block in create'
Completed 500 Internal Server Error in 494ms (ActiveRecord: 185.6ms | Allocations: 31314)


  
NoMethodError (undefined method `split' for nil:NilClass

    first_name, last_name = user.name.split(' ', 2) # Split the name into two parts
                                     ^^^^^^):
  
app/controllers/auth/registrations_controller.rb:59:in `create_profile'
app/controllers/auth/registrations_controller.rb:54:in `block in create'
app/controllers/auth/registrations_controller.rb:49:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth" for ::1 at 2023-08-30 23:07:22 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"name"=>"markpaul", "email"=>"markpaulmuthaura@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 395)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/auth/registrations_controller.rb:94:in `sign_up_params'
Started POST "/auth" for ::1 at 2023-08-30 23:11:13 +0300
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"user"=>{"name"=>"markpaul", "email"=>"markpaul@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "markpaul@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "markpaul@gmail.com"], ["encrypted_password", "[FILTERED]"], ["name", "markpaul"], ["email", "markpaul@gmail.com"], ["created_at", "2023-08-30 20:11:13.666584"], ["updated_at", "2023-08-30 20:11:13.666584"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (78.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
  [1m[36mProfile Create (0.2ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "first_name", "bio", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["first_name", "markpaul"], ["bio", "Default bio"], ["created_at", "2023-08-30 20:11:13.794357"], ["updated_at", "2023-08-30 20:11:13.794357"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
Profile created successfully: #<Profile id: 1, user_id: 2, first_name: "markpaul", last_name: nil, bio: "Default bio", created_at: "2023-08-30 20:11:13.794357000 +0000", updated_at: "2023-08-30 20:11:13.794357000 +0000">
  [1m[36mTRANSACTION (92.3ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create_profile'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 20:11:13.966669"], ["id", 2]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (77.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 2], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:86:in `render_create_success'
Completed 200 OK in 627ms (Views: 1.7ms | ActiveRecord: 253.4ms | Allocations: 33112)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth" for ::1 at 2023-08-30 23:47:03 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"user"=>{"name"=>"mark", "email"=>"mark@gmail.ccom", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.ccom"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
Completed 422 Unprocessable Entity in 311ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 27665)


Started POST "/auth" for ::1 at 2023-08-30 23:47:41 +0300
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"user"=>{"name"=>"mark", "email"=>"mark@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "mark@gmail.com"], ["encrypted_password", "[FILTERED]"], ["name", "mark"], ["email", "mark@gmail.com"], ["created_at", "2023-08-30 20:47:41.829709"], ["updated_at", "2023-08-30 20:47:41.829709"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (94.3ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
  [1m[36mProfile Create (0.2ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "first_name", "bio", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 3], ["first_name", "mark"], ["bio", "Default bio"], ["created_at", "2023-08-30 20:47:41.971878"], ["updated_at", "2023-08-30 20:47:41.971878"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
Profile created successfully: #<Profile id: 2, user_id: 3, first_name: "mark", last_name: nil, bio: "Default bio", created_at: "2023-08-30 20:47:41.971878000 +0000", updated_at: "2023-08-30 20:47:41.971878000 +0000">
  [1m[36mTRANSACTION (93.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create_profile'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 20:47:42.145141"], ["id", 3]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (76.9ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 3], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:86:in `render_create_success'
Completed 200 OK in 624ms (Views: 1.2ms | ActiveRecord: 267.8ms | Allocations: 19388)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-30 23:50:23 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"markgmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "markgmail.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 2031)


Started POST "/auth/sign_in" for 127.0.0.1 at 2023-08-30 23:50:38 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 20:50:38.908893"], ["id", 3]]
  [1m[36mTRANSACTION (111.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 370ms (Views: 0.2ms | ActiveRecord: 111.9ms | Allocations: 7381)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth/sign_in" for ::1 at 2023-08-30 23:54:09 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 20:54:09.438400"], ["id", 3]]
  [1m[36mTRANSACTION (110.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 397ms (Views: 0.6ms | ActiveRecord: 111.7ms | Allocations: 22618)


Started POST "/auth/sign_in" for ::1 at 2023-08-30 23:55:21 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 20:55:22.209155"], ["id", 3]]
  [1m[36mTRANSACTION (85.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 344ms (Views: 0.3ms | ActiveRecord: 85.9ms | Allocations: 6878)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 00:02:09 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.ccom", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.ccom"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 25ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 11554)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 00:02:49 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.ccom", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.ccom"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1063)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 00:03:13 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.ccom", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.ccom"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1063)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 00:03:26 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 21:03:27.170503"], ["id", 3]]
  [1m[36mTRANSACTION (117.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 385ms (Views: 0.4ms | ActiveRecord: 118.9ms | Allocations: 7052)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 00:12:17 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.ccom", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.ccom"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 1249)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 00:12:41 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 21:12:41.469647"], ["id", 3]]
  [1m[36mTRANSACTION (124.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 394ms (Views: 0.6ms | ActiveRecord: 125.6ms | Allocations: 7111)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 00:13:27 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 21:13:27.300795"], ["id", 3]]
  [1m[36mTRANSACTION (119.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 417ms (Views: 1.4ms | ActiveRecord: 120.6ms | Allocations: 7004)


Started GET "/categories" for ::1 at 2023-08-31 00:14:07 +0300
  
ActionController::RoutingError (No route matches [GET] "/categories"):
  
Started GET "/categories" for ::1 at 2023-08-31 00:14:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/categories"):
  
Started GET "/categories" for ::1 at 2023-08-31 00:14:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/categories"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
Started GET "/categories" for ::1 at 2023-08-31 00:24:52 +0300
  
ActionController::RoutingError (No route matches [GET] "/categories"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started GET "/categories" for ::1 at 2023-08-31 00:29:11 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.9ms | Allocations: 4720)


Started GET "/categories" for ::1 at 2023-08-31 00:29:11 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms | Allocations: 1784)


Started GET "/categories" for ::1 at 2023-08-31 00:34:16 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-08-31 00:34:23 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"This is my first Tech blog ", "content"=>"Technology has become an inseparable part of modern life, transforming the way we interact, work, and perceive the world around us. From the proliferation of smartphones that keep us perpetually connected, to the marvels of artificial intelligence that enable machines to learn and reason, technology has ushered in an era of unprecedented innovation. It has transcended mere tools and evolved into a dynamic force that shapes economies, cultures, and societies. As we stand on the cusp of new breakthroughs, the ethical and societal implications of technology's rapid advancement have come to the forefront, reminding us of the need for responsible development and thoughtful integration into our lives.", "category"=>"3", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f8a6fbbe850 @tempfile=#<Tempfile:/tmp/RackMultipart20230831-58427-n8t8ya.jpeg>, @content_type="image/jpeg", @original_filename="dev.jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"dev.jpeg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 364)


Started POST "/posts" for ::1 at 2023-08-31 00:34:28 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"This is my first Tech blog ", "content"=>"Technology has become an inseparable part of modern life, transforming the way we interact, work, and perceive the world around us. From the proliferation of smartphones that keep us perpetually connected, to the marvels of artificial intelligence that enable machines to learn and reason, technology has ushered in an era of unprecedented innovation. It has transcended mere tools and evolved into a dynamic force that shapes economies, cultures, and societies. As we stand on the cusp of new breakthroughs, the ethical and societal implications of technology's rapid advancement have come to the forefront, reminding us of the need for responsible development and thoughtful integration into our lives.", "category"=>"3", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f8a6f8c9528 @tempfile=#<Tempfile:/tmp/RackMultipart20230831-58427-r232rc.jpeg>, @content_type="image/jpeg", @original_filename="dev.jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"dev.jpeg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 143)


Started POST "/posts" for ::1 at 2023-08-31 00:34:38 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"This is my first Tech blog ", "content"=>"Technology has become an inseparable part of modern life, transforming the way we interact, work, and perceive the world around us. From the proliferation of smartphones that keep us perpetually connected, to the marvels of artificial intelligence that enable machines to learn and reason, technology has ushered in an era of unprecedented innovation. It has transcended mere tools and evolved into a dynamic force that shapes economies, cultures, and societies. As we stand on the cusp of new breakthroughs, the ethical and societal implications of technology's rapid advancement have come to the forefront, reminding us of the need for responsible development and thoughtful integration into our lives.", "category"=>"3", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f8a6f854bb0 @tempfile=#<Tempfile:/tmp/RackMultipart20230831-58427-xaphmh.jpeg>, @content_type="image/jpeg", @original_filename="dev.jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"dev.jpeg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 143)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 01:07:31 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 22:07:32.020296"], ["id", 3]]
  [1m[36mTRANSACTION (159.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 415ms (Views: 0.3ms | ActiveRecord: 161.0ms | Allocations: 13059)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 01:08:11 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 22:08:12.240967"], ["id", 3]]
  [1m[36mTRANSACTION (105.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 368ms (Views: 0.3ms | ActiveRecord: 106.5ms | Allocations: 7118)


Started POST "/auth/sign_in" for ::1 at 2023-08-31 01:14:10 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-08-30 22:14:10.999685"], ["id", 3]]
  [1m[36mTRANSACTION (107.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 368ms (Views: 0.4ms | ActiveRecord: 109.2ms | Allocations: 7542)


Started GET "/categories" for ::1 at 2023-08-31 01:28:18 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.6ms | Allocations: 1922)


Started GET "/categories" for ::1 at 2023-08-31 01:28:18 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-08-31 01:28:40 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>" jfdm, xdmls ,z.", "content"=>"dxhekn wmn cdbrd", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f8a6daf8418 @tempfile=#<Tempfile:/tmp/RackMultipart20230831-58427-on2ztq.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 166)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth/sign_in" for ::1 at 2023-09-01 20:28:45 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 17:28:45.989412"], ["id", 3]]
  [1m[36mTRANSACTION (118.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 454ms (Views: 0.4ms | ActiveRecord: 119.8ms | Allocations: 23022)


Started POST "/auth/sign_in" for ::1 at 2023-09-01 21:11:23 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mark@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mark@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 18:11:23.887189"], ["id", 3]]
  [1m[36mTRANSACTION (91.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 374ms (Views: 0.4ms | ActiveRecord: 93.6ms | Allocations: 7656)


Started POST "/auth" for ::1 at 2023-09-01 21:48:29 +0300
Processing by Auth::RegistrationsController#create as HTML
  Parameters: {"user"=>{"name"=>"mwenda", "email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["uid", "mwenda@gmail.com"], ["encrypted_password", "[FILTERED]"], ["name", "mwenda"], ["email", "mwenda@gmail.com"], ["created_at", "2023-09-01 18:48:30.268790"], ["updated_at", "2023-09-01 18:48:30.268790"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (93.5ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:50:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
  [1m[36mProfile Create (0.2ms)[0m  [1m[32mINSERT INTO "profiles" ("user_id", "first_name", "bio", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 4], ["first_name", "mwenda"], ["bio", "Default bio"], ["created_at", "2023-09-01 18:48:30.467995"], ["updated_at", "2023-09-01 18:48:30.467995"]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:62:in `block in create_profile'
Profile created successfully: #<Profile id: 3, user_id: 4, first_name: "mwenda", last_name: nil, bio: "Default bio", created_at: "2023-09-01 18:48:30.467995000 +0000", updated_at: "2023-09-01 18:48:30.467995000 +0000">
  [1m[36mTRANSACTION (140.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:61:in `create_profile'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 18:48:30.693929"], ["id", 4]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mTRANSACTION (83.7ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:49:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT ?[0m  [["user_id", 4], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth/registrations_controller.rb:86:in `render_create_success'
Completed 200 OK in 831ms (Views: 1.9ms | ActiveRecord: 327.1ms | Allocations: 29427)


Started POST "/auth/sign_in" for ::1 at 2023-09-01 21:49:26 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 18:49:26.516439"], ["id", 4]]
  [1m[36mTRANSACTION (83.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 351ms (Views: 0.2ms | ActiveRecord: 84.3ms | Allocations: 7076)


Started POST "/auth/sign_in" for ::1 at 2023-09-01 21:54:50 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 18:54:50.638513"], ["id", 4]]
  [1m[36mTRANSACTION (90.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 356ms (Views: 0.4ms | ActiveRecord: 91.6ms | Allocations: 6770)


Started GET "/categories" for ::1 at 2023-09-01 22:06:37 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 24ms (Views: 8.8ms | ActiveRecord: 3.1ms | Allocations: 4431)


Started GET "/categories" for ::1 at 2023-09-01 22:06:37 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms | Allocations: 1784)


Started GET "/categories" for ::1 at 2023-09-01 22:29:29 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.5ms | Allocations: 1915)


Started POST "/auth/sign_in" for ::1 at 2023-09-01 22:30:42 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 19:30:42.562445"], ["id", 4]]
  [1m[36mTRANSACTION (111.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 378ms (Views: 0.4ms | ActiveRecord: 112.7ms | Allocations: 7292)


Started GET "/categories" for ::1 at 2023-09-01 22:31:35 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-01 22:31:35 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-09-01 22:31:56 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"auth", "content"=>"hehvcvgvcegcegwsjshbsxnb xnb nsb ns", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f9b68ab2c90 @tempfile=#<Tempfile:/tmp/RackMultipart20230901-11588-ilqcwb.jpeg>, @content_type="image/jpeg", @original_filename="dev.jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"dev.jpeg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 376)


Started GET "/categories" for ::1 at 2023-09-01 22:38:02 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.8ms | Allocations: 2052)


Started GET "/categories" for ::1 at 2023-09-01 22:38:03 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-09-01 22:38:35 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"werhjkjhgrertyui", "content"=>"tgggghjkklll", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f9b68a45988 @tempfile=#<Tempfile:/tmp/RackMultipart20230901-11588-rnc05m.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 150)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-01 22:39:19 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"title"=>"werhjkjhgrertyui", "content"=>"tgggghjkklll", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007ff8e04abc18 @tempfile=#<Tempfile:/tmp/RackMultipart20230901-490693-i9gz26.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 13ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10779)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth/sign_in" for ::1 at 2023-09-01 22:42:31 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 19:42:31.522084"], ["id", 4]]
  [1m[36mTRANSACTION (81.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 378ms (Views: 0.7ms | ActiveRecord: 83.5ms | Allocations: 22722)


Started POST "/auth/sign_in" for ::1 at 2023-09-01 22:43:11 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 19:43:11.560999"], ["id", 4]]
  [1m[36mTRANSACTION (80.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 341ms (Views: 0.2ms | ActiveRecord: 80.9ms | Allocations: 6995)


Started GET "/categories" for ::1 at 2023-09-01 22:43:22 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 14ms (Views: 9.9ms | ActiveRecord: 0.9ms | Allocations: 4539)


Started GET "/categories" for ::1 at 2023-09-01 22:43:22 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms | Allocations: 1784)


Started POST "/posts" for ::1 at 2023-09-01 22:43:41 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"yywywywywyw", "content"=>"gvvwvgvdwgvgvgcwxgcwg", "category"=>"2", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f4b310dbf50 @tempfile=#<Tempfile:/tmp/RackMultipart20230901-502064-4573bv.jpg>, @content_type="image/jpeg", @original_filename="avatar3.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"avatar3.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 22ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10595)


Started POST "/auth/sign_in" for ::1 at 2023-09-01 22:46:20 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (3.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 19:46:20.735887"], ["id", 4]]
  [1m[36mTRANSACTION (94.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 403ms (Views: 0.4ms | ActiveRecord: 98.3ms | Allocations: 7309)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth/sign_in" for ::1 at 2023-09-01 23:04:40 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
Completed 401 Unauthorized in 246ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 25242)


Started POST "/auth/sign_in" for ::1 at 2023-09-01 23:05:10 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 20:05:11.094809"], ["id", 4]]
  [1m[36mTRANSACTION (113.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 390ms (Views: 0.4ms | ActiveRecord: 114.3ms | Allocations: 9098)


Started POST "/auth/sign_in" for ::1 at 2023-09-01 23:11:58 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 20:11:58.910763"], ["id", 4]]
  [1m[36mTRANSACTION (96.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 360ms (Views: 0.3ms | ActiveRecord: 98.1ms | Allocations: 7544)


Started GET "/categories" for ::1 at 2023-09-01 23:21:49 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.8ms | Allocations: 4735)


Started GET "/categories" for ::1 at 2023-09-01 23:21:49 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 1784)


Started POST "/posts" for ::1 at 2023-09-01 23:30:39 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"Food and it's Benefits", "content"=>"Food is a fundamental aspect of human existence, encompassing both sustenance and culture. It not only provides the essential nutrients our bodies require to function but also serves as a canvas for diverse flavors, textures, and culinary traditions from around the world. The world of food is a rich tapestry of ingredients, techniques, and recipes that vary from region to region, reflecting the unique histories, climates, and preferences of different cultures. Whether it's a simple home-cooked meal shared with loved ones or an elaborate gastronomic experience in a fine-dining restaurant, food has the power to evoke emotions, create memories, and bridge cultural gaps. It's a source of comfort, celebration, and exploration, offering endless opportunities to tantalize our taste buds and connect with our shared human heritage.", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007fcbed887050 @tempfile=#<Tempfile:/tmp/RackMultipart20230901-581566-cjdbd3.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 377)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-01 23:31:22 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"title"=>"Food and it's Benefits", "content"=>"Food is a fundamental aspect of human existence, encompassing both sustenance and culture. It not only provides the essential nutrients our bodies require to function but also serves as a canvas for diverse flavors, textures, and culinary traditions from around the world. The world of food is a rich tapestry of ingredients, techniques, and recipes that vary from region to region, reflecting the unique histories, climates, and preferences of different cultures. Whether it's a simple home-cooked meal shared with loved ones or an elaborate gastronomic experience in a fine-dining restaurant, food has the power to evoke emotions, create memories, and bridge cultural gaps. It's a source of comfort, celebration, and exploration, offering endless opportunities to tantalize our taste buds and connect with our shared human heritage.", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f739d052608 @tempfile=#<Tempfile:/tmp/RackMultipart20230901-678593-6l625p.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 20ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10780)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth/sign_in" for ::1 at 2023-09-02 00:00:26 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 21:00:26.551079"], ["id", 4]]
  [1m[36mTRANSACTION (95.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 415ms (Views: 0.6ms | ActiveRecord: 97.2ms | Allocations: 23010)


Started GET "/categories" for ::1 at 2023-09-02 00:04:25 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.8ms | Allocations: 4543)


Started GET "/categories" for ::1 at 2023-09-02 00:04:31 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.3ms | Allocations: 1795)


Started POST "/auth/sign_in" for ::1 at 2023-09-02 00:16:13 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 21:16:13.634373"], ["id", 4]]
  [1m[36mTRANSACTION (89.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 364ms (Views: 0.3ms | ActiveRecord: 92.0ms | Allocations: 7851)


Started GET "/user" for ::1 at 2023-09-02 00:16:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/user"):
  
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /var/lib/gems/3.1.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/categories" for ::1 at 2023-09-02 00:28:43 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 0.9ms | Allocations: 7046)


Started GET "/categories" for ::1 at 2023-09-02 00:28:43 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms | Allocations: 1861)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-02 00:29:50 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"title"=>"Benefits of food", "content"=>"Food is a fundamental aspect of human existence, encompassing both sustenance and culture. It not only provides the essential nutrients our bodies require to function but also serves as a canvas for diverse flavors, textures, and culinary traditions from around the world. The world of food is a rich tapestry of ingredients, techniques, and recipes that vary from region to region, reflecting the unique histories, climates, and preferences of different cultures. Whether it's a simple home-cooked meal shared with loved ones or an elaborate gastronomic experience in a fine-dining restaurant, food has the power to evoke emotions, create memories, and bridge cultural gaps. It's a source of comfort, celebration, and exploration, offering endless opportunities to tantalize our taste buds and connect with our shared human heritage.", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f945d7a0028 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-887136-b76sgl.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 17ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10779)


Started POST "/posts" for ::1 at 2023-09-02 00:30:12 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"Benefits of food", "content"=>"Food is a fundamental aspect of human existence, encompassing both sustenance and culture. It not only provides the essential nutrients our bodies require to function but also serves as a canvas for diverse flavors, textures, and culinary traditions from around the world. The world of food is a rich tapestry of ingredients, techniques, and recipes that vary from region to region, reflecting the unique histories, climates, and preferences of different cultures. Whether it's a simple home-cooked meal shared with loved ones or an elaborate gastronomic experience in a fine-dining restaurant, food has the power to evoke emotions, create memories, and bridge cultural gaps. It's a source of comfort, celebration, and exploration, offering endless opportunities to tantalize our taste buds and connect with our shared human heritage.", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f9456875d10 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-887136-evsf1o.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1124)


  
NoMethodError (undefined method `posts' for nil:NilClass

      @post = current_user.posts.build(post_params)
                          ^^^^^^):
  
app/controllers/posts_controller.rb:26:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /var/lib/gems/3.1.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/categories" for ::1 at 2023-09-02 00:35:56 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.4ms | Allocations: 7046)


Started GET "/categories" for ::1 at 2023-09-02 00:35:56 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 1861)


Started GET "/categories" for ::1 at 2023-09-02 00:37:08 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.1ms | Allocations: 1798)


Started GET "/categories" for ::1 at 2023-09-02 00:37:08 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-09-02 00:37:32 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"food", "content"=>"User is already logged in. Token found: Bearer JuiAxsHPODT6EIblI1QaVw", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f9b5a917858 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-890306-8gfmix.jpg>, @content_type="image/jpeg", @original_filename="avatar4.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"avatar4.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1102)


  
NoMethodError (undefined method `posts' for nil:NilClass

      @post = current_user.posts.build(post_params)
                          ^^^^^^):
  
app/controllers/posts_controller.rb:26:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-02 00:38:13 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"title"=>"food", "content"=>"User is already logged in. Token found: Bearer JuiAxsHPODT6EIblI1QaVw", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f4ac7904ea8 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-911629-hcekk2.jpg>, @content_type="image/jpeg", @original_filename="avatar4.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"avatar4.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1192)


  
NoMethodError (undefined method `posts' for nil:NilClass

      @post = current_user.posts.build(post_params)
                          ^^^^^^):
  
app/controllers/posts_controller.rb:26:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-02 00:39:20 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"title"=>"food", "content"=>"User is already logged in. Token found: Bearer JuiAxsHPODT6EIblI1QaVw", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f0de91c8c40 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-915504-11ub82.jpg>, @content_type="image/jpeg", @original_filename="avatar4.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"avatar4.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1192)


  
NoMethodError (undefined method `posts' for nil:NilClass

      @post = current_user.posts.build(post_params)
                          ^^^^^^):
  
app/controllers/posts_controller.rb:26:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-02 00:44:29 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"title"=>"food", "content"=>"User is already logged in. Token found: Bearer JuiAxsHPODT6EIblI1QaVw", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f2aacad7b30 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-923718-uqbz75.jpg>, @content_type="image/jpeg", @original_filename="avatar4.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"avatar4.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 31ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10780)


Started GET "/categories" for ::1 at 2023-09-02 00:49:20 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 17ms (Views: 12.4ms | ActiveRecord: 0.8ms | Allocations: 6909)


Started GET "/categories" for ::1 at 2023-09-02 00:49:20 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms | Allocations: 1860)


Started GET "/categories" for ::1 at 2023-09-02 00:49:20 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 00:49:20 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-09-02 00:50:35 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>" nmkjsasdfghjkl", "content"=>"yyyyyyyyyyy", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f2aacacb5b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-923718-deas4j.jpg>, @content_type="image/jpeg", @original_filename="floatinghouses.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"floatinghouses.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 179)


Started GET "/categories" for ::1 at 2023-09-02 00:59:43 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 1.2ms | Allocations: 1976)


Started GET "/categories" for ::1 at 2023-09-02 00:59:43 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms | Allocations: 1779)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-02 00:59:58 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"title"=>" nmkjsasdfghjkl", "content"=>"yyyyyyyyyyy", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f8add0dab00 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-965831-9wptom.jpg>, @content_type="image/jpeg", @original_filename="floatinghouses.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"floatinghouses.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 13ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10779)


Started POST "/auth/sign_in" for ::1 at 2023-09-02 01:22:51 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 22:22:51.694233"], ["id", 4]]
  [1m[36mTRANSACTION (127.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 418ms (Views: 0.8ms | ActiveRecord: 130.1ms | Allocations: 23010)


Started POST "/auth/sign_in" for ::1 at 2023-09-02 01:24:30 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 22:24:30.842189"], ["id", 4]]
  [1m[36mTRANSACTION (98.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 370ms (Views: 0.3ms | ActiveRecord: 98.9ms | Allocations: 7258)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth/sign_in" for ::1 at 2023-09-02 01:39:10 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-01 22:39:10.451687"], ["id", 4]]
  [1m[36mTRANSACTION (89.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 400ms (Views: 0.7ms | ActiveRecord: 91.1ms | Allocations: 23035)


Started GET "/categories" for ::1 at 2023-09-02 01:56:59 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 1.0ms | Allocations: 4700)


Started GET "/categories" for ::1 at 2023-09-02 01:57:00 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.3ms | Allocations: 1785)


Started GET "/categories" for ::1 at 2023-09-02 01:57:03 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.1ms | Allocations: 1790)


Started GET "/categories" for ::1 at 2023-09-02 01:57:03 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms | Allocations: 1790)


Started GET "/categories" for ::1 at 2023-09-02 01:57:11 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.3ms | Allocations: 1790)


Started GET "/categories" for ::1 at 2023-09-02 01:57:11 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.3ms | Allocations: 1779)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /var/lib/gems/3.1.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/categories" for ::1 at 2023-09-02 01:59:56 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 0.9ms | Allocations: 7047)


Started GET "/categories" for ::1 at 2023-09-02 01:59:56 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms | Allocations: 1861)


Started GET "/categories" for ::1 at 2023-09-02 02:01:32 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms | Allocations: 1798)


Started GET "/categories" for ::1 at 2023-09-02 02:01:33 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.2ms | Allocations: 1790)


Started POST "/posts" for ::1 at 2023-09-02 02:01:39 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"am tired", "content"=>"i hope this works", "category"=>"3", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f9a1a32f1e8 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-1033811-e60hej.jpeg>, @content_type="image/jpeg", @original_filename="dev.jpeg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"dev.jpeg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 25ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10611)


Started GET "/categories" for ::1 at 2023-09-02 02:02:56 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms | Allocations: 1873)


Started GET "/categories" for ::1 at 2023-09-02 02:02:56 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:02:56 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:02:56 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:05:25 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.3ms | Allocations: 1793)


Started GET "/categories" for ::1 at 2023-09-02 02:05:25 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.5ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:05:25 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:05:25 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:05:59 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:05:59 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 22ms (Views: 22.0ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:06:06 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 28ms (Views: 27.9ms | ActiveRecord: 0.2ms | Allocations: 1790)


Started GET "/categories" for ::1 at 2023-09-02 02:06:07 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 23ms (Views: 22.5ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:06:08 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:06:08 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.3ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-09-02 02:06:42 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"you", "content"=>"should work", "category"=>"3", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f9a1b335088 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-1033811-hh8j0x.png>, @content_type="image/png", @original_filename="me-removebg-preview.png", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"me-removebg-preview.png\"\r\nContent-Type: image/png\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 154)


Started GET "/categories" for ::1 at 2023-09-02 02:09:41 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:09:41 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:09:45 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:09:45 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:09:58 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.1ms | Allocations: 1780)


Started GET "/categories" for ::1 at 2023-09-02 02:09:58 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:10:00 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms | Allocations: 1780)


Started GET "/categories" for ::1 at 2023-09-02 02:10:00 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:10:01 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 02:10:01 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 22:54:38 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.7ms | Allocations: 1962)


Started GET "/categories" for ::1 at 2023-09-02 22:54:38 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 22:57:05 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 22:57:05 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms | Allocations: 1779)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /var/lib/gems/3.1.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/categories" for ::1 at 2023-09-02 23:22:59 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 46ms (Views: 40.4ms | ActiveRecord: 1.5ms | Allocations: 7046)


Started GET "/categories" for ::1 at 2023-09-02 23:22:59 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.2ms | Allocations: 1861)


Started GET "/categories" for ::1 at 2023-09-02 23:23:02 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.3ms | Allocations: 1798)


Started GET "/categories" for ::1 at 2023-09-02 23:23:02 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:23:10 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms | Allocations: 1790)


Started GET "/categories" for ::1 at 2023-09-02 23:23:10 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-09-02 23:23:36 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"fuck you", "content"=>"and ou", "category"=>"11", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f0a265b3538 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-81544-tfyri4.png>, @content_type="image/png", @original_filename="me-removebg-preview.png", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"me-removebg-preview.png\"\r\nContent-Type: image/png\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 156ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10622)


Started GET "/categories" for ::1 at 2023-09-02 23:24:11 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms | Allocations: 1873)


Started GET "/categories" for ::1 at 2023-09-02 23:24:11 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms | Allocations: 1779)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /var/lib/gems/3.1.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/categories" for ::1 at 2023-09-02 23:39:56 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.4ms | Allocations: 7046)


Started GET "/categories" for ::1 at 2023-09-02 23:39:56 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms | Allocations: 1861)


Started GET "/categories" for ::1 at 2023-09-02 23:39:59 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms | Allocations: 1798)


Started GET "/categories" for ::1 at 2023-09-02 23:39:59 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:40:49 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms | Allocations: 1790)


Started GET "/categories" for ::1 at 2023-09-02 23:40:49 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:43:48 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms | Allocations: 1790)


Started GET "/categories" for ::1 at 2023-09-02 23:43:48 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:43:50 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms | Allocations: 1790)


Started GET "/categories" for ::1 at 2023-09-02 23:43:50 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:43:51 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:43:51 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:43:52 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:43:52 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:43:54 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:43:54 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:44:36 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-02 23:44:36 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started POST "/auth/sign_in" for ::1 at 2023-09-02 23:50:57 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 20:50:58.195433"], ["id", 4]]
  [1m[36mTRANSACTION (94.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 414ms (Views: 0.4ms | ActiveRecord: 96.7ms | Allocations: 21314)


Started GET "/categories" for ::1 at 2023-09-02 23:50:58 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms | Allocations: 1812)


Started GET "/categories" for ::1 at 2023-09-02 23:50:58 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-09-02 23:51:16 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"mmmmm", "content"=>"nSI CBGQB EE", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f06155ae4f8 @tempfile=#<Tempfile:/tmp/RackMultipart20230902-96111-9j3t1a.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1088)


  
NoMethodError (undefined method `posts' for nil:NilClass

      @post = current_user.posts.build(post_params)
                          ^^^^^^):
  
app/controllers/posts_controller.rb:26:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth/sign_in" for ::1 at 2023-09-03 00:02:09 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 21:02:10.381653"], ["id", 4]]
  [1m[36mTRANSACTION (98.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 417ms (Views: 1.1ms | ActiveRecord: 99.7ms | Allocations: 23035)


Started GET "/categories" for ::1 at 2023-09-03 00:02:10 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 8ms (Views: 4.6ms | ActiveRecord: 0.7ms | Allocations: 4524)


Started GET "/categories" for ::1 at 2023-09-03 00:02:10 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms | Allocations: 1784)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 00:25:37 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 21:25:38.199429"], ["id", 4]]
  [1m[36mTRANSACTION (66.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 320ms (Views: 0.3ms | ActiveRecord: 67.4ms | Allocations: 7856)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:00:43 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:00:43.609835"], ["id", 4]]
  [1m[36mTRANSACTION (95.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 373ms (Views: 0.3ms | ActiveRecord: 97.6ms | Allocations: 7595)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:07:05 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (7.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:07:06.200720"], ["id", 4]]
  [1m[36mTRANSACTION (96.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 404ms (Views: 0.3ms | ActiveRecord: 105.7ms | Allocations: 7579)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:08:18 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:08:18.612106"], ["id", 4]]
  [1m[36mTRANSACTION (96.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 371ms (Views: 0.4ms | ActiveRecord: 97.8ms | Allocations: 7207)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:18:55 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:18:55.367911"], ["id", 4]]
  [1m[36mTRANSACTION (100.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 364ms (Views: 0.3ms | ActiveRecord: 101.8ms | Allocations: 7574)


Started GET "/categories" for ::1 at 2023-09-03 01:23:16 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms | Allocations: 1801)


Started GET "/categories" for ::1 at 2023-09-03 01:23:16 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms | Allocations: 1779)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:23:40 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:23:40.835773"], ["id", 4]]
  [1m[36mTRANSACTION (156.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 414ms (Views: 0.1ms | ActiveRecord: 156.7ms | Allocations: 7206)


Started GET "/categories" for ::1 at 2023-09-03 01:23:41 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-03 01:23:41 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-09-03 01:24:01 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"uwcuwveue2", "content"=>"edeeeee", "category"=>"4", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f48c5d8e838 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-193271-jjghwb.jpg>, @content_type="image/jpeg", @original_filename="floatinghouses.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"floatinghouses.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 24ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 10594)


Started GET "/categories" for ::1 at 2023-09-03 01:27:40 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.4ms | Allocations: 1887)


Started POST "/posts" for ::1 at 2023-09-03 01:27:52 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"uwcuwveue2", "content"=>"edeeeee", "category"=>"4", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f48c43d50b8 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-193271-4pr07u.jpg>, @content_type="image/jpeg", @original_filename="floatinghouses.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"floatinghouses.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 151)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:35:28 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:35:28.562989"], ["id", 4]]
  [1m[36mTRANSACTION (65.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 334ms (Views: 0.2ms | ActiveRecord: 67.9ms | Allocations: 7843)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:36:45 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>false}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:36:45.760965"], ["id", 4]]
  [1m[36mTRANSACTION (79.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 340ms (Views: 0.3ms | ActiveRecord: 80.4ms | Allocations: 7215)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:36:49 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:36:50.205044"], ["id", 4]]
  [1m[36mTRANSACTION (102.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 370ms (Views: 0.3ms | ActiveRecord: 103.1ms | Allocations: 7208)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:37:00 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:37:00.863186"], ["id", 4]]
  [1m[36mTRANSACTION (92.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 367ms (Views: 0.2ms | ActiveRecord: 93.6ms | Allocations: 7206)


Started GET "/categories" for ::1 at 2023-09-03 01:37:13 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms | Allocations: 1800)


Started GET "/categories" for ::1 at 2023-09-03 01:37:13 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms | Allocations: 1779)


Started POST "/posts" for ::1 at 2023-09-03 01:37:37 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"ffc  ", "content"=>"cfcfcr", "category"=>"3", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f48c434d758 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-193271-zmi2xg.jpg>, @content_type="image/jpeg", @original_filename="avatar4.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"avatar4.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 150)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:38:23 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:38:23.276228"], ["id", 4]]
  [1m[36mTRANSACTION (83.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 329ms (Views: 0.2ms | ActiveRecord: 83.8ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:39:09 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:39:09.698297"], ["id", 4]]
  [1m[36mTRANSACTION (83.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 344ms (Views: 0.3ms | ActiveRecord: 83.7ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:41:09 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:41:10.252430"], ["id", 4]]
  [1m[36mTRANSACTION (62.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 335ms (Views: 0.2ms | ActiveRecord: 63.9ms | Allocations: 7206)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:42:33 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:42:33.673736"], ["id", 4]]
  [1m[36mTRANSACTION (94.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 374ms (Views: 0.3ms | ActiveRecord: 95.8ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:49:55 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:49:55.406651"], ["id", 4]]
  [1m[36mTRANSACTION (108.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 390ms (Views: 0.4ms | ActiveRecord: 111.4ms | Allocations: 7574)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:50:08 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:50:08.471529"], ["id", 4]]
  [1m[36mTRANSACTION (75.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 330ms (Views: 0.2ms | ActiveRecord: 75.9ms | Allocations: 7208)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:50:57 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:50:57.940487"], ["id", 4]]
  [1m[36mTRANSACTION (103.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 368ms (Views: 0.4ms | ActiveRecord: 104.6ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:50:59 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:50:59.415263"], ["id", 4]]
  [1m[36mTRANSACTION (103.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 376ms (Views: 0.4ms | ActiveRecord: 104.9ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:51:28 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:51:28.298414"], ["id", 4]]
  [1m[36mTRANSACTION (102.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 367ms (Views: 0.4ms | ActiveRecord: 103.0ms | Allocations: 7207)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:51:29 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:51:29.569031"], ["id", 4]]
  [1m[36mTRANSACTION (97.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 371ms (Views: 0.3ms | ActiveRecord: 98.7ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:51:34 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:51:34.886837"], ["id", 4]]
  [1m[36mTRANSACTION (79.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 347ms (Views: 0.3ms | ActiveRecord: 80.6ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:55:53 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:55:53.950533"], ["id", 4]]
  [1m[36mTRANSACTION (91.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 363ms (Views: 0.3ms | ActiveRecord: 92.6ms | Allocations: 7205)


Started GET "/categories" for ::1 at 2023-09-03 01:55:54 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.2ms | Allocations: 1800)


Started GET "/categories" for ::1 at 2023-09-03 01:55:54 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 1780)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 01:59:21 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 22:59:21.479863"], ["id", 4]]
  [1m[36mTRANSACTION (73.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 351ms (Views: 0.3ms | ActiveRecord: 74.6ms | Allocations: 7208)


Started GET "/categories" for ::1 at 2023-09-03 01:59:21 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.4ms | Allocations: 1779)


Started GET "/categories" for ::1 at 2023-09-03 01:59:21 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.3ms | Allocations: 1779)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:03:03 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:03:04.024280"], ["id", 4]]
  [1m[36mTRANSACTION (148.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 427ms (Views: 0.2ms | ActiveRecord: 149.4ms | Allocations: 7207)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:04:56 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:04:57.091428"], ["id", 4]]
  [1m[36mTRANSACTION (131.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 410ms (Views: 0.4ms | ActiveRecord: 132.2ms | Allocations: 7205)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:06:52 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:06:52.691228"], ["id", 4]]
  [1m[36mTRANSACTION (132.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 482ms (Views: 0.4ms | ActiveRecord: 133.9ms | Allocations: 23037)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:08:42 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:08:42.647540"], ["id", 4]]
  [1m[36mTRANSACTION (96.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 357ms (Views: 0.3ms | ActiveRecord: 96.9ms | Allocations: 7260)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:08:47 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:08:47.312897"], ["id", 4]]
  [1m[36mTRANSACTION (87.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 342ms (Views: 0.2ms | ActiveRecord: 88.3ms | Allocations: 7224)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:10:25 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:10:25.989375"], ["id", 4]]
  [1m[36mTRANSACTION (122.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 375ms (Views: 0.2ms | ActiveRecord: 123.3ms | Allocations: 7207)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:12:15 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:12:15.913733"], ["id", 4]]
  [1m[36mTRANSACTION (91.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 353ms (Views: 0.3ms | ActiveRecord: 91.9ms | Allocations: 7224)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:12:59 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:12:59.295588"], ["id", 4]]
  [1m[36mTRANSACTION (97.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 400ms (Views: 0.2ms | ActiveRecord: 97.8ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:15:32 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:15:32.434992"], ["id", 4]]
  [1m[36mTRANSACTION (90.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 379ms (Views: 0.4ms | ActiveRecord: 91.3ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:16:28 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:16:29.266087"], ["id", 4]]
  [1m[36mTRANSACTION (129.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 406ms (Views: 0.4ms | ActiveRecord: 130.8ms | Allocations: 7206)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:17:57 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:17:57.417576"], ["id", 4]]
  [1m[36mTRANSACTION (97.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 359ms (Views: 0.4ms | ActiveRecord: 98.1ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:19:30 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:19:30.713954"], ["id", 4]]
  [1m[36mTRANSACTION (88.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 348ms (Views: 0.3ms | ActiveRecord: 88.9ms | Allocations: 7226)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:21:20 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:21:20.405422"], ["id", 4]]
  [1m[36mTRANSACTION (98.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 348ms (Views: 0.3ms | ActiveRecord: 98.7ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:21:55 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:21:56.031097"], ["id", 4]]
  [1m[36mTRANSACTION (78.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 347ms (Views: 0.4ms | ActiveRecord: 78.9ms | Allocations: 7205)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:24:47 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:24:47.914642"], ["id", 4]]
  [1m[36mTRANSACTION (75.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 335ms (Views: 0.3ms | ActiveRecord: 75.9ms | Allocations: 7206)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:30:56 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:30:56.444385"], ["id", 4]]
  [1m[36mTRANSACTION (80.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 350ms (Views: 0.3ms | ActiveRecord: 81.9ms | Allocations: 7614)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:32:37 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:32:37.572417"], ["id", 4]]
  [1m[36mTRANSACTION (87.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 357ms (Views: 0.3ms | ActiveRecord: 88.0ms | Allocations: 7211)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:34:29 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:34:29.788810"], ["id", 4]]
  [1m[36mTRANSACTION (105.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 372ms (Views: 0.2ms | ActiveRecord: 106.2ms | Allocations: 7213)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:34:38 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:34:38.636040"], ["id", 4]]
  [1m[36mTRANSACTION (99.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 363ms (Views: 0.3ms | ActiveRecord: 99.7ms | Allocations: 7208)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:37:08 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>false}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:37:08.831912"], ["id", 4]]
  [1m[36mTRANSACTION (68.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 346ms (Views: 0.5ms | ActiveRecord: 69.2ms | Allocations: 7211)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:45:59 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:45:59.634908"], ["id", 4]]
  [1m[36mTRANSACTION (115.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 399ms (Views: 0.4ms | ActiveRecord: 117.7ms | Allocations: 7579)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 02:59:28 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-02 23:59:28.309236"], ["id", 4]]
  [1m[36mTRANSACTION (80.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 355ms (Views: 0.3ms | ActiveRecord: 81.9ms | Allocations: 7579)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 03:04:04 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-03 00:04:04.695574"], ["id", 4]]
  [1m[36mTRANSACTION (84.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 347ms (Views: 0.3ms | ActiveRecord: 85.4ms | Allocations: 7209)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 03:08:05 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-03 00:08:05.622928"], ["id", 4]]
  [1m[36mTRANSACTION (100.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 384ms (Views: 0.3ms | ActiveRecord: 101.6ms | Allocations: 7209)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 03:16:56 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
Completed 401 Unauthorized in 29ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10427)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 03:17:01 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 179)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 03:17:27 +0300
Processing by DeviseTokenAuth::SessionsController#create as */*
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 179)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 03:21:33 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-03 00:21:33.583666"], ["id", 4]]
  [1m[36mTRANSACTION (87.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 359ms (Views: 0.4ms | ActiveRecord: 89.7ms | Allocations: 7576)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/auth/sign_in" for ::1 at 2023-09-03 03:47:35 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-03 00:47:36.363542"], ["id", 4]]
  [1m[36mTRANSACTION (114.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 430ms (Views: 1.0ms | ActiveRecord: 116.1ms | Allocations: 23050)


Started GET "/categories" for ::1 at 2023-09-03 03:47:36 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 1.7ms | Allocations: 4536)


Started GET "/categories" for ::1 at 2023-09-03 03:47:36 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms | Allocations: 1788)


Started POST "/auth/sign_in" for ::1 at 2023-09-03 03:49:12 +0300
Processing by DeviseTokenAuth::SessionsController#create as HTML
  Parameters: {"email"=>"mwenda@gmail.com", "password"=>"[FILTERED]", "remember_me"=>true}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? AND "users"."provider" = ? LIMIT ?[0m  [["email", "mwenda@gmail.com"], ["provider", "email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ? [0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["tokens", "[FILTERED]"], ["updated_at", "2023-09-03 00:49:12.671850"], ["id", 4]]
  [1m[36mTRANSACTION (89.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 370ms (Views: 0.3ms | ActiveRecord: 91.3ms | Allocations: 7449)


Started GET "/categories" for ::1 at 2023-09-03 03:49:12 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms | Allocations: 1783)


Started GET "/categories" for ::1 at 2023-09-03 03:49:12 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.2ms | Allocations: 1783)


Started POST "/posts" for ::1 at 2023-09-03 03:52:19 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"tttttt", "content"=>"uheeebecbe", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007fc16dacab80 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-696081-ar8e4u.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
Completed 400 Bad Request in 100ms (ActiveRecord: 0.4ms | Allocations: 7280)


  
ActionController::ParameterMissing (param is missing or the value is empty: post):
  
app/controllers/posts_controller.rb:64:in `post_params'
app/controllers/posts_controller.rb:26:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-03 03:54:40 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"title"=>"tttttt", "content"=>"uheeebecbe", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f65072e9e38 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-696757-18ig6k.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameters: :category, :images. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f65240d7538>, params: {"title"=>"tttttt", "content"=>"uheeebecbe", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f65072e9e38 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-696757-18ig6k.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">], "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 129ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 39437)


Started POST "/posts" for ::1 at 2023-09-03 03:56:40 +0300
Processing by PostsController#create as HTML
  Parameters: {"title"=>"tttttt", "content"=>"uheeebecbe", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f6524c63d98 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-696757-eafzjs.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"images[]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
Completed 400 Bad Request in 94ms (ActiveRecord: 4.4ms | Allocations: 9986)


  
ActionController::ParameterMissing (param is missing or the value is empty: post):
  
app/controllers/posts_controller.rb:64:in `post_params'
app/controllers/posts_controller.rb:26:in `create'
Started POST "/posts" for 127.0.0.1 at 2023-09-03 03:58:49 +0300
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"

i hope it works perect
----------------------------626114716153961807667364
Content-Disposition: form-data; name="title"

uuuu
----------------------------626114716153961807667364
Content-Disposition: form-data; name="image"; filename="floatinghouses.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF ,,  ˇ‚XICC_PROFILE   HLino  mntrRGB XYZ Œ  	  1  acspMSFT    IEC sRGB              ˆ÷     ”-HP                                                 cprt  P   3desc  Ñ   lwtpt     bkpt     rXYZ     gXYZ  ,   bXYZ  @   dmnd  T   pdmdd  ƒ   àvued  L   Üview  ‘   $lumi  ¯   meas     $tech  0   rTRC  <  gTRC  <  bTRC  <  text    Copyright (c) 1998 Hewlett-Packard Company  desc       sRGB IEC61966-2.1           sRGB IEC61966-2.1                                                  XYZ       ÛQ    ÃXYZ                 XYZ       o¢  8ı  êXYZ       bô  ∑Ö  ⁄XYZ       $†  Ñ  ∂œdesc       IEC http://www.iec.ch           IEC http://www.iec.ch                                              desc       .IEC 61966-2.1 Default RGB colour space - sRGB           .IEC 61966-2.1 Default RGB colour space - sRGB                      desc       ,Reference Viewing Condition in IEC61966-2.1           ,Reference Viewing Condition in IEC61966-2.1                          view     §˛ _. œ ÌÃ  \û   XYZ      L	V P   WÁmeas                         è   sig     CRT curv           
     # ( - 2 7 ; @ E J O T Y ^ c h m r w | Å Ü ã ê ï ö ü § © Æ ≤ ∑ º ¡ ∆ À – ’ € ‡ Â Î  ˆ ˚%+28>ELRY`gnu|Éãíö°©±π¡…—Ÿ·ÈÚ˙)):
  
/usr/lib/ruby/3.1.0/uri/common.rb:341:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/posts" for 127.0.0.1 at 2023-09-03 03:59:34 +0300
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"

i hope it works perect
----------------------------722465612073832562894933
Content-Disposition: form-data; name="title"

uuuu
----------------------------722465612073832562894933
Content-Disposition: form-data; name="image"; filename="floatinghouses.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF ,,  ˇ‚XICC_PROFILE   HLino  mntrRGB XYZ Œ  	  1  acspMSFT    IEC sRGB              ˆ÷     ”-HP                                                 cprt  P   3desc  Ñ   lwtpt     bkpt     rXYZ     gXYZ  ,   bXYZ  @   dmnd  T   pdmdd  ƒ   àvued  L   Üview  ‘   $lumi  ¯   meas     $tech  0   rTRC  <  gTRC  <  bTRC  <  text    Copyright (c) 1998 Hewlett-Packard Company  desc       sRGB IEC61966-2.1           sRGB IEC61966-2.1                                                  XYZ       ÛQ    ÃXYZ                 XYZ       o¢  8ı  êXYZ       bô  ∑Ö  ⁄XYZ       $†  Ñ  ∂œdesc       IEC http://www.iec.ch           IEC http://www.iec.ch                                              desc       .IEC 61966-2.1 Default RGB colour space - sRGB           .IEC 61966-2.1 Default RGB colour space - sRGB                      desc       ,Reference Viewing Condition in IEC61966-2.1           ,Reference Viewing Condition in IEC61966-2.1                          view     §˛ _. œ ÌÃ  \û   XYZ      L	V P   WÁmeas                         è   sig     CRT curv           
     # ( - 2 7 ; @ E J O T Y ^ c h m r w | Å Ü ã ê ï ö ü § © Æ ≤ ∑ º ¡ ∆ À – ’ € ‡ Â Î  ˆ ˚%+28>ELRY`gnu|Éãíö°©±π¡…—Ÿ·ÈÚ˙)):
  
/usr/lib/ruby/3.1.0/uri/common.rb:341:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for 127.0.0.1 at 2023-09-03 03:59:51 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
  
ActionController::BadRequest (Invalid request parameters: invalid %-encoding ("content"

i hope it works perect
----------------------------265458618043459687502490
Content-Disposition: form-data; name="title"

uuuu
----------------------------265458618043459687502490
Content-Disposition: form-data; name="image"; filename="floatinghouses.jpg"
Content-Type: image/jpeg

ˇÿˇ‡ JFIF ,,  ˇ‚XICC_PROFILE   HLino  mntrRGB XYZ Œ  	  1  acspMSFT    IEC sRGB              ˆ÷     ”-HP                                                 cprt  P   3desc  Ñ   lwtpt     bkpt     rXYZ     gXYZ  ,   bXYZ  @   dmnd  T   pdmdd  ƒ   àvued  L   Üview  ‘   $lumi  ¯   meas     $tech  0   rTRC  <  gTRC  <  bTRC  <  text    Copyright (c) 1998 Hewlett-Packard Company  desc       sRGB IEC61966-2.1           sRGB IEC61966-2.1                                                  XYZ       ÛQ    ÃXYZ                 XYZ       o¢  8ı  êXYZ       bô  ∑Ö  ⁄XYZ       $†  Ñ  ∂œdesc       IEC http://www.iec.ch           IEC http://www.iec.ch                                              desc       .IEC 61966-2.1 Default RGB colour space - sRGB           .IEC 61966-2.1 Default RGB colour space - sRGB                      desc       ,Reference Viewing Condition in IEC61966-2.1           ,Reference Viewing Condition in IEC61966-2.1                          view     §˛ _. œ ÌÃ  \û   XYZ      L	V P   WÁmeas                         è   sig     CRT curv           
     # ( - 2 7 ; @ E J O T Y ^ c h m r w | Å Ü ã ê ï ö ü § © Æ ≤ ∑ º ¡ ∆ À – ’ € ‡ Â Î  ˆ ˚%+28>ELRY`gnu|Éãíö°©±π¡…—Ÿ·ÈÚ˙)):
  
/usr/lib/ruby/3.1.0/uri/common.rb:341:in `decode_www_form_component'
rack (2.2.8) lib/rack/utils.rb:57:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:159:in `unescape'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block (2 levels) in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:73:in `map!'
rack (2.2.8) lib/rack/query_parser.rb:73:in `block in parse_nested_query'
rack (2.2.8) lib/rack/query_parser.rb:72:in `each'
rack (2.2.8) lib/rack/query_parser.rb:72:in `parse_nested_query'
rack (2.2.8) lib/rack/request.rb:590:in `parse_query'
rack (2.2.8) lib/rack/request.rb:454:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:390:in `block (2 levels) in POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `fetch'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:389:in `block in POST'
rack (2.2.8) lib/rack/request.rb:69:in `fetch'
rack (2.2.8) lib/rack/request.rb:69:in `fetch_header'
actionpack (7.0.7) lib/action_dispatch/http/request.rb:388:in `POST'
actionpack (7.0.7) lib/action_dispatch/http/parameters.rb:55:in `parameters'
actionpack (7.0.7) lib/action_dispatch/http/filter_parameters.rb:28:in `filtered_parameters'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:57:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-03 04:01:46 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f961e49a9b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-697842-y1tmp2.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1"}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 16ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 10781)


Started POST "/posts" for ::1 at 2023-09-03 04:02:12 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f961d0ce828 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-697842-2bs5xy.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
Completed 400 Bad Request in 97ms (ActiveRecord: 1.2ms | Allocations: 20145)


  
ActionController::ParameterMissing (param is missing or the value is empty: post):
  
app/controllers/posts_controller.rb:64:in `post_params'
app/controllers/posts_controller.rb:26:in `create'
Started GET "/categories" for ::1 at 2023-09-03 04:05:39 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 23ms (Views: 20.9ms | ActiveRecord: 0.7ms | Allocations: 4339)


Started POST "/posts" for ::1 at 2023-09-03 04:05:52 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"tttttt", "content"=>"uheeebecbe", "category"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f961ca91208 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-697842-1rg26g.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.8ms | Allocations: 5621)


  
ActiveRecord::AssociationTypeMismatch (Category(#18000) expected, got "1" which is an instance of String(#2060)):
  
app/controllers/posts_controller.rb:26:in `create'
Started GET "/categories" for ::1 at 2023-09-03 04:07:38 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.2ms | Allocations: 1936)


Started POST "/posts" for ::1 at 2023-09-03 04:07:59 +0300
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"tttttt", "content"=>"uheeebecbe", "category_id"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f961c100c20 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-697842-lw9ke6.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :category_id. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f961c147a30>, params: {"post"=>{"title"=>"tttttt", "content"=>"uheeebecbe", "category_id"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f961c100c20 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-697842-lw9ke6.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}, "controller"=>"posts", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 1947)


  
ActiveModel::UnknownAttributeError (unknown attribute 'images' for Post.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/posts_controller.rb:26:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-03 04:08:15 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"tttttt", "content"=>"uheeebecbe", "category_id"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f414cc05f28 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-698746-q58q5o.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :category_id. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f414cfe7ad8>, params: {"post"=>{"title"=>"tttttt", "content"=>"uheeebecbe", "category_id"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f414cc05f28 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-698746-q58q5o.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}, "controller"=>"posts", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 100ms (ActiveRecord: 1.0ms | Allocations: 24769)


  
ActiveModel::UnknownAttributeError (unknown attribute 'images' for Post.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/posts_controller.rb:26:in `create'
DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-03 04:09:54 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"tttttt", "content"=>"uheeebecbe", "category_id"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f57b7759b60 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699023-dbff6d.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameters: :category_id, :images. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f57d41436c8>, params: {"post"=>{"title"=>"tttttt", "content"=>"uheeebecbe", "category_id"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f57b7759b60 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699023-dbff6d.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}, "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 130ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 39459)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-03 04:11:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"tttttt", "content"=>"uheeebecbe", "category_id"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f6769089b20 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-cew4ll.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :images. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f676946b6a8>, params: {"post"=>{"title"=>"tttttt", "content"=>"uheeebecbe", "category_id"=>"1", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f6769089b20 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-cew4ll.jpg>, @content_type="image/jpeg", @original_filename="artur-rutkowski-4yzEtTQLdL4-unsplash.jpg", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"artur-rutkowski-4yzEtTQLdL4-unsplash.jpg\"\r\nContent-Type: image/jpeg\r\n">]}, "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:29:in `create'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:29:in `create'
  [1m[36mPost Create (0.3ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at", "user_id", "category_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "tttttt"], ["content", "uheeebecbe"], ["created_at", "2023-09-03 01:11:03.095637"], ["updated_at", "2023-09-03 01:11:03.095637"], ["user_id", 4], ["category_id", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:29:in `create'
  [1m[36mTRANSACTION (316.4ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:29:in `create'
Redirected to http://localhost:3001/posts/1
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 302 Found in 438ms (ActiveRecord: 318.6ms | Allocations: 33748)


Started GET "/posts/1" for ::1 at 2023-09-03 04:11:03 +0300
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:17:in `show'
Completed 406 Not Acceptable in 6ms (ActiveRecord: 0.3ms | Allocations: 1558)


  
ActionController::MissingExactTemplate (PostsController#show is missing a template for request formats: text/html):
  
actionpack (7.0.7) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.7) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.7) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/posts" for ::1 at 2023-09-03 04:12:06 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676bab1a38 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-ifslpq.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 167ms (Views: 0.3ms | ActiveRecord: 2.7ms | Allocations: 27488)


Started POST "/posts" for ::1 at 2023-09-03 04:12:27 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676c42f0b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-213sx1.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "catergory"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :catergory. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f676b8ea3a8>, params: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676c42f0b0 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-213sx1.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "catergory"=>"1", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 12ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3523)


Started POST "/posts" for ::1 at 2023-09-03 04:12:34 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676b0f4220 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-ejft3d.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "category"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :category. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f676b5b2dc0>, params: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676b0f4220 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-ejft3d.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "category"=>"1", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 13ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3309)


Started POST "/posts" for ::1 at 2023-09-03 04:12:45 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676b03dd18 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-5te5wd.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :Category. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f676b019508>, params: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676b03dd18 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-5te5wd.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"1", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 18ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3304)


Started POST "/posts" for ::1 at 2023-09-03 04:12:55 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676b91f1e8 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-emmo5a.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"\"1\""}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :Category. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f676b915788>, params: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676b91f1e8 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-emmo5a.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"\"1\"", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 22ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 3314)


Started POST "/posts" for ::1 at 2023-09-03 04:13:01 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676b13f180 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-zx8u7.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"food"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :Category. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f676bb263d8>, params: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f676b13f180 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699189-zx8u7.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"food", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 13ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3295)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-03 04:14:02 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f68684821f0 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699613-y9ako9.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"'1'"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :Category. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f6862515e60>, params: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f68684821f0 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699613-y9ako9.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"'1'", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 136ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 51532)


Started POST "/posts" for ::1 at 2023-09-03 04:14:35 +0300
Processing by PostsController#create as */*
  Parameters: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f6863f5b478 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699613-og0v7r.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"'1'"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :Category. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f68680823c0>, params: {"content"=>"i hope it works", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f6863f5b478 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699613-og0v7r.jpg>, @content_type="image/jpeg", @original_filename="background.jpg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"background.jpg\"\r\nContent-Type: image/jpeg\r\n">, "title"=>"post1", "Category"=>"'1'", "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 90ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 22692)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
Started POST "/posts" for ::1 at 2023-09-03 04:16:34 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from <top (required)> at /home/markpaul/projects/Blog-api/app/controllers/application_controller.rb:1)
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"My life as a developer", "content"=>"As a developer, my life is an ever-evolving journey through the digital realm. Each day is a new opportunity to craft lines of code that bring ideas to life, solve complex problems, and push the boundaries of technology. I thrive in a world where creativity meets logic, where innovation is fueled by collaboration and endless possibilities. From late-night debugging sessions to the euphoria of a successful deployment, my life is a rollercoaster of challenges and triumphs. I am constantly learning, adapting to new languages and frameworks, and staying on the cutting edge of the tech industry. It's a life filled with excitement, curiosity, and a profound sense of purpose, knowing that the code I write can impact and improve the lives of others.", "category_id"=>"3", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f59ec92f868 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699858-nkyz2k.png>, @content_type="image/png", @original_filename="me-removebg-preview.png", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"me-removebg-preview.png\"\r\nContent-Type: image/png\r\n">]}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."uid" = ? LIMIT ?[0m  [["uid", "mwenda@gmail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :images. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00007f59ecaa13e0>, params: {"post"=>{"title"=>"My life as a developer", "content"=>"As a developer, my life is an ever-evolving journey through the digital realm. Each day is a new opportunity to craft lines of code that bring ideas to life, solve complex problems, and push the boundaries of technology. I thrive in a world where creativity meets logic, where innovation is fueled by collaboration and endless possibilities. From late-night debugging sessions to the euphoria of a successful deployment, my life is a rollercoaster of challenges and triumphs. I am constantly learning, adapting to new languages and frameworks, and staying on the cutting edge of the tech industry. It's a life filled with excitement, curiosity, and a profound sense of purpose, knowing that the code I write can impact and improve the lives of others.", "category_id"=>"3", "images"=>[#<ActionDispatch::Http::UploadedFile:0x00007f59ec92f868 @tempfile=#<Tempfile:/tmp/RackMultipart20230903-699858-nkyz2k.png>, @content_type="image/png", @original_filename="me-removebg-preview.png", @headers="Content-Disposition: form-data; name=\"post[images][]\"; filename=\"me-removebg-preview.png\"\r\nContent-Type: image/png\r\n">]}, "controller"=>"posts", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:29:in `create'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:29:in `create'
  [1m[36mPost Create (0.3ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "created_at", "updated_at", "user_id", "category_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "My life as a developer"], ["content", "As a developer, my life is an ever-evolving journey through the digital realm. Each day is a new opportunity to craft lines of code that bring ideas to life, solve complex problems, and push the boundaries of technology. I thrive in a world where creativity meets logic, where innovation is fueled by collaboration and endless possibilities. From late-night debugging sessions to the euphoria of a successful deployment, my life is a rollercoaster of challenges and triumphs. I am constantly learning, adapting to new languages and frameworks, and staying on the cutting edge of the tech industry. It's a life filled with excitement, curiosity, and a profound sense of purpose, knowing that the code I write can impact and improve the lives of others."], ["created_at", "2023-09-03 01:16:34.698784"], ["updated_at", "2023-09-03 01:16:34.698784"], ["user_id", 4], ["category_id", 3]]
  ‚Ü≥ app/controllers/posts_controller.rb:29:in `create'
  [1m[36mTRANSACTION (100.1ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/posts_controller.rb:29:in `create'
Redirected to http://localhost:3001/posts/2
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 302 Found in 223ms (ActiveRecord: 102.2ms | Allocations: 33751)


Started GET "/posts/2" for ::1 at 2023-09-03 04:16:34 +0300
Processing by PostsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/posts_controller.rb:17:in `show'
Completed 406 Not Acceptable in 3ms (ActiveRecord: 0.2ms | Allocations: 1558)


  
ActionController::MissingExactTemplate (PostsController#show is missing a template for request formats: text/html):
  
actionpack (7.0.7) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.7) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.7) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/posts" for ::1 at 2023-09-03 04:22:54 +0300
Processing by PostsController#index as HTML
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 319)


  
ActionController::MissingExactTemplate (PostsController#index is missing a template for request formats: text/html):
  
actionpack (7.0.7) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.7) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.7) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/posts" for ::1 at 2023-09-03 04:22:58 +0300
Processing by PostsController#index as HTML
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 181)


  
ActionController::MissingExactTemplate (PostsController#index is missing a template for request formats: text/html):
  
actionpack (7.0.7) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.7) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.7) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/posts" for ::1 at 2023-09-03 04:22:59 +0300
Processing by PostsController#index as HTML
Completed 406 Not Acceptable in 0ms (ActiveRecord: 0.0ms | Allocations: 176)


  
ActionController::MissingExactTemplate (PostsController#index is missing a template for request formats: text/html):
  
actionpack (7.0.7) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.7) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.7) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/posts" for ::1 at 2023-09-03 04:27:20 +0300
Processing by PostsController#index as HTML
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 174)


  
ActionController::MissingExactTemplate (PostsController#index is missing a template for request formats: text/html):
  
actionpack (7.0.7) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.7) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.7) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/posts" for ::1 at 2023-09-03 04:27:24 +0300
Processing by PostsController#index as HTML
Completed 406 Not Acceptable in 0ms (ActiveRecord: 0.0ms | Allocations: 181)


  
ActionController::MissingExactTemplate (PostsController#index is missing a template for request formats: text/html):
  
actionpack (7.0.7) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.7) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.7) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/posts" for ::1 at 2023-09-03 04:27:24 +0300
Processing by PostsController#index as HTML
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 174)


  
ActionController::MissingExactTemplate (PostsController#index is missing a template for request formats: text/html):
  
actionpack (7.0.7) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (7.0.7) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:215:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:234:in `block in process_action'
activesupport (7.0.7) lib/active_support/callbacks.rb:107:in `run_callbacks'
actionpack (7.0.7) lib/abstract_controller/callbacks.rb:233:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/rescue.rb:23:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.0.7) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (7.0.7) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.0.7) lib/action_controller/metal/instrumentation.rb:66:in `process_action'
actionpack (7.0.7) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (7.0.7) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (7.0.7) lib/abstract_controller/base.rb:151:in `process'
actionview (7.0.7) lib/action_view/rendering.rb:39:in `process'
actionpack (7.0.7) lib/action_controller/metal.rb:188:in `dispatch'
actionpack (7.0.7) lib/action_controller/metal.rb:251:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (7.0.7) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.0.7) lib/action_dispatch/routing/route_set.rb:852:in `call'
rack (2.2.8) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.8) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/cookies.rb:704:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.8) lib/rack/etag.rb:27:in `call'
rack (2.2.8) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.8) lib/rack/head.rb:12:in `call'
activerecord (7.0.7) lib/active_record/migration.rb:603:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.7) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.7) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
railties (7.0.7) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.7) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.7) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.8) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.7) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.8) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.7) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
rack-cors (2.0.1) lib/rack/cors.rb:102:in `call'
railties (7.0.7) lib/rails/engine.rb:530:in `call'
puma (5.6.7) lib/puma/configuration.rb:252:in `call'
puma (5.6.7) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.7) lib/puma/request.rb:76:in `handle_request'
puma (5.6.7) lib/puma/server.rb:443:in `process_client'
puma (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/categories" for ::1 at 2023-09-03 04:27:41 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.8ms | Allocations: 2372)


Started GET "/categories" for ::1 at 2023-09-03 04:27:41 +0300
Processing by CategoriesController#index as HTML
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ‚Ü≥ app/controllers/categories_controller.rb:12:in `index'
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.2ms | Allocations: 1783)


DEPRECATION WARNING: Using legacy connection handling is deprecated. Please set
`legacy_connection_handling` to `false` in your application.

The new connection handling does not support `connection_handlers`
getter and setter.

Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
 (called from <top (required)> at /home/markpaul/projects/Blog-api/app/models/user.rb:3)
DEPRECATION WARNING: Non-URL-safe CSRF tokens are deprecated. Use 6.1 defaults or above. (called from block (3 levels) in <class:Railtie> at /var/lib/gems/3.1.0/gems/actionpack-7.0.7/lib/action_controller/railtie.rb:80)
Started GET "/posts" for ::1 at 2023-09-03 04:29:15 +0300
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PostsController#index as HTML
Completed 406 Not Acceptable in 10ms (ActiveRecord: 0.0ms | Allocations: 3724)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/posts_controller.rb:11:in `index'
Started GET "/posts" for ::1 at 2023-09-03 04:29:16 +0300
Processing by PostsController#index as HTML
Completed 406 Not Acceptable in 0ms (ActiveRecord: 0.0ms | Allocations: 163)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/posts_controller.rb:11:in `index'
Started GET "/posts" for 127.0.0.1 at 2023-09-03 04:30:09 +0300
Processing by PostsController#index as */*
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  ‚Ü≥ app/controllers/posts_controller.rb:12:in `block (2 levels) in index'
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.9ms | Allocations: 6480)


